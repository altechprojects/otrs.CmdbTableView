<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>CmdbTableView</Name>
    <Version>6.0.1</Version>
    <Vendor>Complemento [Free]</Vendor>
    <URL>http://www.complemento.net.br/</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 2, June 1991</License>
    <Description Lang="en">Clean OTRS View Zoom</Description>
    <Framework>6.0.x</Framework>
    <BuildDate>2018-03-20 13:39:51</BuildDate>
    <BuildHost>localhost.localdomain.localdomain</BuildHost>
    <Filelist>
        <File Location="Custom/CmdbTableView.sopm" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX3BhY2thZ2UgdmVyc2lvbj0iMS4wIj4KICAgIDxOYW1lPkNtZGJUYWJsZVZpZXc8L05hbWU+CiAgICA8VmVyc2lvbj42LjAuMTwvVmVyc2lvbj4KICAgIDxGcmFtZXdvcms+Ni4wLng8L0ZyYW1ld29yaz4KICAgIDxWZW5kb3I+Q29tcGxlbWVudG8gW0ZyZWVdPC9WZW5kb3I+CiAgICA8VVJMPmh0dHA6Ly93d3cuY29tcGxlbWVudG8ubmV0LmJyLzwvVVJMPgogICAgPExpY2Vuc2U+R05VIEdFTkVSQUwgUFVCTElDIExJQ0VOU0UgVmVyc2lvbiAyLCBKdW5lIDE5OTE8L0xpY2Vuc2U+CiAgICA8RGVzY3JpcHRpb24gTGFuZz0iZW4iPkNsZWFuIE9UUlMgVmlldyBab29tPC9EZXNjcmlwdGlvbj4KICAgIDxGaWxlbGlzdD4KICAgICAgICA8RmlsZSBQZXJtaXNzaW9uPSI2NDQiIExvY2F0aW9uPSJDdXN0b20vQ21kYlRhYmxlVmlldy5zb3BtIj48L0ZpbGU+CiAgICAgICAgPEZpbGUgUGVybWlzc2lvbj0iNjQ0IiBMb2NhdGlvbj0iS2VybmVsL091dHB1dC9IVE1ML1RlbXBsYXRlcy9TdGFuZGFyZC9BZ2VudElUU01Db25maWdJdGVtT3ZlcnZpZXdUYWJsZS50dCI+PC9GaWxlPgogICAgICAgIDxGaWxlIFBlcm1pc3Npb249IjY0NCIgTG9jYXRpb249Iktlcm5lbC9Db25maWcvRmlsZXMvWE1ML0NvbXBsZW1lbnRvQ21kYlRhYmxlVmlldy54bWwiPjwvRmlsZT4KICAgICAgICA8RmlsZSBQZXJtaXNzaW9uPSI2NDQiIExvY2F0aW9uPSJLZXJuZWwvT3V0cHV0L0hUTUwvSVRTTUNvbmZpZ0l0ZW0vT3ZlcnZpZXdUYWJsZS5wbSI+PC9GaWxlPgogICAgICAgIDxGaWxlIFBlcm1pc3Npb249IjY0NCIgTG9jYXRpb249Iktlcm5lbC9Nb2R1bGVzL0FnZW50SVRTTUNvbmZpZ0l0ZW1BamF4VXBkYXRlLnBtIj48L0ZpbGU+CiAgICAgICAgPEZpbGUgUGVybWlzc2lvbj0iNjQ0IiBMb2NhdGlvbj0idmFyL2h0dHBkL2h0ZG9jcy9qcy90aGlyZHBhcnR5L3RhYmxlZWRpdC9qcXVlcnkudGFibGVkaXQubWluLmpzIj48L0ZpbGU+CiAgICA8L0ZpbGVsaXN0Pgo8L290cnNfcGFja2FnZT4K</File>
        <File Location="Kernel/Output/HTML/Templates/Standard/AgentITSMConfigItemOverviewTable.tt" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAwMS0yMDE2IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgp2YXIgZWRpdGFibGVDb2x1bW5zID0gW107CnZhciBlY0NvdW50ZXI9LTE7Cjwvc2NyaXB0Pgo8ZGl2IGlkPSJPdmVydmlld0JvZHkiIGNsYXNzPSJPdmVydmlldyBUaWNrZXRMaXN0Ij4KICAgIDx0YWJsZSBjbGFzcz0iVGFibGVTbWFsbCIgc3VtbWFyeT0iQSBnZW5lcmljIElUU00gQ29uZmlndXJhdGlvbiBJdGVtIHRhYmxlIiBpZD0iQ01EQlRhYmxlIj4KICAgICAgICBbJSBEYXRhLlN0eWxlQ2xhc3NlcyAlXQogICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgPHRyPgpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRCdWxrQWN0aW9uSGVhZGVyIikgJV0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmVjQ291bnRlcisrOzwvc2NyaXB0PgogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJDaGVja2JveCBGaXhlZCI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iQ2hlY2tib3giIHRpdGxlPSJbJSBUcmFuc2xhdGUoIlNlbGVjdCBhbGwiKSB8IGh0bWwgJV0iIGlkPSJTZWxlY3RBbGxDb25maWdJdGVtcyIgYXV0b2NvbXBsZXRlPSJvZmYiIC8+CiAgICAgICAgICAgICAgICA8L3RoPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQnVsa0FjdGlvbkhlYWRlciIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZEN1ckluY2lTaWduYWxIZWFkZXIiKSAlXQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+ZWNDb3VudGVyKys7PC9zY3JpcHQ+CiAgICAgICAgICAgICAgICA8dGggY2xhc3M9IiI+CiMgICAgICAgICAgICAgICAgICAgIDxzcGFuPlslIFRyYW5zbGF0ZSgiSW5jaWRlbnQgU3RhdGUiKSB8IGh0bWwgJV08L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+WyUgVHJhbnNsYXRlKCJPcGVyYXRpb25hbCIpIHwgaHRtbCAlXTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRDdXJJbmNpU2lnbmFsSGVhZGVyIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQ3VyRGVwbFNpZ25hbEhlYWRlciIpICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5lY0NvdW50ZXIrKzs8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aD4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5bJSBUcmFuc2xhdGUoIkRlcGxveW1lbnQgU3RhdGUiKSB8IGh0bWwgJV08L3NwYW4+CiAgICAgICAgICAgICAgICA8L3RoPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ3VyRGVwbFNpZ25hbEhlYWRlciIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZE51bWJlckhlYWRlciIpICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5lY0NvdW50ZXIrKzs8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iTnVtYmVyIFslIERhdGEuQ1NTIHwgaHRtbCAlXSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iWyUgRW52KCJCYXNlbGluayIpICVdQWN0aW9uPVslIEVudigiQWN0aW9uIikgJV07WyUgRGF0YS5MaW5rU29ydCAlXTtTb3J0QnlBZnRlcj1OdW1iZXI7T3JkZXJCeT1bJSBEYXRhLk9yZGVyQnkgfCB1cmkgJV0iPlslIENvbmZpZygiSVRTTUNvbmZpZ0l0ZW06Okhvb2siKSAlXTwvYT4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmROdW1iZXJIZWFkZXIiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmROYW1lSGVhZGVyIikgJV0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgplY0NvdW50ZXIrKzsKZWRpdGFibGVDb2x1bW5zLnB1c2goW2VjQ291bnRlciwnTmFtZSddKQo8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iTmFtZSBbJSBEYXRhLkNTUyB8IGh0bWwgJV0iPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IlslIEVudigiQmFzZWxpbmsiKSAlXUFjdGlvbj1bJSBFbnYoIkFjdGlvbiIpICVdO1slIERhdGEuTGlua1NvcnQgJV07U29ydEJ5QWZ0ZXI9TmFtZTtPcmRlckJ5PVslIERhdGEuT3JkZXJCeSB8IHVyaSAlXSI+WyUgVHJhbnNsYXRlKCJOYW1lIikgfCBodG1sICVdPC9hPgogICAgICAgICAgICAgICAgPC90aD4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZE5hbWVIZWFkZXIiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRDbGFzc0hlYWRlciIpICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5lY0NvdW50ZXIrKzs8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iQ2xhc3MgWyUgRGF0YS5DU1MgfCBodG1sICVdIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV1BY3Rpb249WyUgRW52KCJBY3Rpb24iKSAlXTtbJSBEYXRhLkxpbmtTb3J0ICVdO1NvcnRCeUFmdGVyPUNsYXNzSUQ7T3JkZXJCeT1bJSBEYXRhLk9yZGVyQnkgfCB1cmkgJV0iPlslIFRyYW5zbGF0ZSgiQ2xhc3MiKSB8IGh0bWwgJV08L2E+CiAgICAgICAgICAgICAgICA8L3RoPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ2xhc3NIZWFkZXIiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRDdXJEZXBsU3RhdGVIZWFkZXIiKSAlXQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CmVjQ291bnRlcisrOwplZGl0YWJsZUNvbHVtbnMucHVzaChbZWNDb3VudGVyLCdEZXBsU3RhdGVJRCcsJ3tbJSBSZW5kZXJCbG9ja1N0YXJ0KCJEbFN0YXRlIikgJV0iWyUgRGF0YS5JRCAlXSI6IlslIFRyYW5zbGF0ZShEYXRhLlN0YXRlKSB8IGh0bWwgJV0iWyUgRGF0YS5Db21tYSAlXVslIFJlbmRlckJsb2NrRW5kKCJEbFN0YXRlIiklXX0nXSk7Cjwvc2NyaXB0PgogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJDdXJEZXBsU3RhdGUgWyUgRGF0YS5DU1MgfCBodG1sICVdIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV1BY3Rpb249WyUgRW52KCJBY3Rpb24iKSAlXTtbJSBEYXRhLkxpbmtTb3J0ICVdO1NvcnRCeUFmdGVyPURlcGxTdGF0ZUlEO09yZGVyQnk9WyUgRGF0YS5PcmRlckJ5IHwgdXJpICVdIj5bJSBUcmFuc2xhdGUoIkRlcGxveW1lbnQgU3RhdGUiKSB8IGh0bWwgJV08L2E+CiAgICAgICAgICAgICAgICA8L3RoPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ3VyRGVwbFN0YXRlSGVhZGVyIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQ3VyRGVwbFN0YXRlVHlwZUhlYWRlciIpICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5lY0NvdW50ZXIrKzs8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aD4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5bJSBUcmFuc2xhdGUoIkRlcGxveW1lbnQgU3RhdGUgVHlwZSIpIHwgaHRtbCAlXTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRDdXJEZXBsU3RhdGVUeXBlSGVhZGVyIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQ3VySW5jaVN0YXRlSGVhZGVyIikgJV0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgplY0NvdW50ZXIrKzsKPC9zY3JpcHQ+CiAgICAgICAgICAgICAgICA8dGggY2xhc3M9IkN1ckluY2lTdGF0ZSBbJSBEYXRhLkNTUyB8IGh0bWwgJV0iPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IlslIEVudigiQmFzZWxpbmsiKSAlXUFjdGlvbj1bJSBFbnYoIkFjdGlvbiIpICVdO1slIERhdGEuTGlua1NvcnQgJV07U29ydEJ5QWZ0ZXI9SW5jaVN0YXRlSUQ7T3JkZXJCeT1bJSBEYXRhLk9yZGVyQnkgfCB1cmkgJV0iPlslIFRyYW5zbGF0ZSgiT3BlcmF0aW9uYWwiKSB8IGh0bWwgJV08L2E+CiAgICAgICAgICAgICAgICA8L3RoPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ3VySW5jaVN0YXRlSGVhZGVyIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQ3VySW5jaVN0YXRlVHlwZUhlYWRlciIpICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5lY0NvdW50ZXIrKzs8L3NjcmlwdD4KICAgICAgICAgICAgICAgIDx0aD4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj5bJSBUcmFuc2xhdGUoIkN1cnJlbnQgSW5jaWRlbnQgU3RhdGUgVHlwZSIpIHwgaHRtbCAlXTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRDdXJJbmNpU3RhdGVUeXBlSGVhZGVyIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkWE1MQXR0cmlidXRlSGVhZGVyIikgJV0KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0iWyUgRGF0YS5DU1MgfCBodG1sICVdIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV1BY3Rpb249WyUgRW52KCJBY3Rpb24iKSAlXTtbJSBEYXRhLkxpbmtTb3J0ICVdO1NvcnRCeUFmdGVyPVslIERhdGEuTmFtZSB8IHVyaSAlXTtPcmRlckJ5PVslIERhdGEuT3JkZXJCeSB8IHVyaSAlXSI+CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIFslIERhdGEuTmFtZSAgJV0gICAgICAgICAgCiAgICAgICAgICBbJSBUcmFuc2xhdGUoRGF0YS5YTUxBdHRyaWJ1dGVIZWFkZXIpIHwgaHRtbCAlXQogICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRYTUxBdHRyaWJ1dGVIZWFkZXIiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRMYXN0Q2hhbmdlZEhlYWRlciIpICVdCiAgICAgICAgICAgICAgICA8dGggY2xhc3M9Ikxhc3RDaGFuZ2VkIFslIERhdGEuQ1NTIHwgaHRtbCAlXSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iWyUgRW52KCJCYXNlbGluayIpICVdQWN0aW9uPVslIEVudigiQWN0aW9uIikgJV07WyUgRGF0YS5MaW5rU29ydCAlXTtTb3J0QnlBZnRlcj1DaGFuZ2VUaW1lO09yZGVyQnk9WyUgRGF0YS5PcmRlckJ5IHwgdXJpICVdIj5bJSBUcmFuc2xhdGUoIkxhc3QgY2hhbmdlZCIpIHwgaHRtbCAlXTwvYT4KICAgICAgICAgICAgICAgIDwvdGg+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRMYXN0Q2hhbmdlZEhlYWRlciIpICVdCiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgPC90aGVhZD4KICAgICAgICA8dGJvZHk+ClslIFJlbmRlckJsb2NrU3RhcnQoIk5vRGF0YUZvdW5kTXNnIikgJV0KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IlslIERhdGEuVG90YWxDb2x1bW5zIHwgaHRtbCAlXSI+CiAgICAgICAgICAgICAgICAgICAgWyUgVHJhbnNsYXRlKCJObyBkYXRhIGZvdW5kLiIpIHwgaHRtbCAlXQogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPC90cj4KWyUgUmVuZGVyQmxvY2tFbmQoIk5vRGF0YUZvdW5kTXNnIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkIikgJV0KICAgICAgICAgICAgPHRyIGlkPSJDb25maWdJdGVtSURfWyUgRGF0YS5Db25maWdJdGVtSUQgfCBodG1sICVdIiAgZGF0YS1jbWRiLWlkPSJbJSBEYXRhLkNvbmZpZ0l0ZW1JRCB8IGh0bWwgJV0iIGNsYXNzPSJUZXN0Ij4KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQnVsa0FjdGlvbiIpICVdCiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9IkNoZWNrYm94IEZpeGVkIE5vblRleHRDb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9IkNoZWNrYm94IiB0eXBlPSJjaGVja2JveCIgbmFtZT0iQ29uZmlnSXRlbUlEIiB2YWx1ZT0iWyUgRGF0YS5Db25maWdJdGVtSUQgfCBodG1sICVdIiAgYXV0b2NvbXBsZXRlPSJvZmYiIC8+CiAgICAgICAgICAgICAgICA8L3RkPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQnVsa0FjdGlvbiIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZEN1ckluY2lTaWduYWwiKSAlXQogICAgICAgICAgICAgICAgPHRkIHRpdGxlPSJbJSBUcmFuc2xhdGUoRGF0YS5DdXJJbmNpU3RhdGUpIHwgaHRtbCAlXSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iRmxhZyBTbWFsbCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJbJSBEYXRhLkN1ckluY2lTaWduYWwgfCBodG1sICVdIj4iWyUgVHJhbnNsYXRlKERhdGEuQ3VySW5jaVN0YXRlKSB8IGh0bWwgJV0iPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC90ZD4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZEN1ckluY2lTaWduYWwiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRDdXJEZXBsU2lnbmFsIikgJV0KICAgICAgICAgICAgICAgIDx0ZCB0aXRsZT0iWyUgVHJhbnNsYXRlKERhdGEuQ3VyRGVwbFN0YXRlKSB8IGh0bWwgJV0iPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9IkZsYWcgU21hbGwiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iWyUgRGF0YS5DdXJEZXBsU2lnbmFsIHwgaHRtbCAlXSI+IlslIFRyYW5zbGF0ZShEYXRhLkN1ckRlcGxTdGF0ZSkgfCBodG1sICVdIjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvdGQ+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRDdXJEZXBsU2lnbmFsIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkTnVtYmVyIikgJV0KCQkJCTx0ZD4KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkTnVtYmVyTGlua1N0YXJ0IikgJV0KCQkJCQk8YSBocmVmPSJbJSBFbnYoIkJhc2VsaW5rIikgJV1BY3Rpb249QWdlbnRJVFNNQ29uZmlnSXRlbVpvb207Q29uZmlnSXRlbUlEPVslIERhdGEuQ29uZmlnSXRlbUlEIHwgdXJpICVdIiB0aXRsZT0iWyUgRGF0YS5OdW1iZXIgfCB1cmkgJV0iIGNsYXNzPSJNYXN0ZXJBY3Rpb25MaW5rIj4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZE51bWJlckxpbmtTdGFydCIpICVdCgkJCQkJCVslIERhdGEuTnVtYmVyIHwgaHRtbCAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmROdW1iZXJMaW5rRW5kIikgJV0KCQkJCQk8L2E+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmROdW1iZXJMaW5rRW5kIikgJV0KCQkJCTwvdGQ+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmROdW1iZXIiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmROYW1lIikgJV0KICAgICAgICAgICAgICAgIDx0ZD4KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkTmFtZUxpbmtTdGFydCIpICVdCiMgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IlslIEVudigiQmFzZWxpbmsiKSAlXUFjdGlvbj1BZ2VudElUU01Db25maWdJdGVtWm9vbTtDb25maWdJdGVtSUQ9WyUgRGF0YS5Db25maWdJdGVtSUQgfCB1cmkgJV0iIHRpdGxlPSJbJSBEYXRhLk5hbWUgfCB1cmkgJV0iIGNsYXNzPSJNYXN0ZXJBY3Rpb25MaW5rIj4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZE5hbWVMaW5rU3RhcnQiKSAlXQojCQkJCQkJPGRpdiB0aXRsZT0iWyUgRGF0YS5OYW1lIHwgaHRtbCAlXSI+CiMJCQkJCQkJWyUgRGF0YS5OYW1lIHwgdHJ1bmNhdGUoNDApIHwgaHRtbCAlXQpbJSBEYXRhLk5hbWUgfCBodG1sICVdCiMJCQkJCQk8L2Rpdj4KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkTmFtZUxpbmtFbmQiKSAlXQojICAgICAgICAgICAgICAgICAgICA8L2E+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmROYW1lTGlua0VuZCIpICVdCgkJCQk8L3RkPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkTmFtZSIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZENsYXNzIikgJV0KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPSJbJSBUcmFuc2xhdGUoRGF0YS5DbGFzcykgfCBodG1sICVdIj5bJSBUcmFuc2xhdGUoRGF0YS5DbGFzcykgfCBodG1sICVdPC9kaXY+CiAgICAgICAgICAgICAgICA8L3RkPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ2xhc3MiKSAlXQpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJSZWNvcmRDdXJEZXBsU3RhdGUiKSAlXQoJCQkJPHRkPgoJCQkJCTxkaXYgdGl0bGU9IlslIFRyYW5zbGF0ZShEYXRhLkN1ckRlcGxTdGF0ZSkgfCBodG1sICVdIj5bJSBUcmFuc2xhdGUoRGF0YS5DdXJEZXBsU3RhdGUpIHwgaHRtbCAlXTwvZGl2PgoJCQkJPC90ZD4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZEN1ckRlcGxTdGF0ZSIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZEN1ckRlcGxTdGF0ZVR5cGUiKSAlXQoJCQkJPHRkPgoJCQkJCTxkaXYgdGl0bGU9IlslIFRyYW5zbGF0ZShEYXRhLkN1ckRlcGxTdGF0ZVR5cGUpIHwgaHRtbCAlXSI+WyUgVHJhbnNsYXRlKERhdGEuQ3VyRGVwbFN0YXRlVHlwZSkgfCBodG1sICVdPC9kaXY+CgkJCQk8L3RkPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ3VyRGVwbFN0YXRlVHlwZSIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZEN1ckluY2lTdGF0ZSIpICVdCgkJCQk8dGQ+CgkJCQkJPGRpdiB0aXRsZT0iWyUgVHJhbnNsYXRlKERhdGEuQ3VySW5jaVN0YXRlKSB8IGh0bWwgJV0iPlslIFRyYW5zbGF0ZShEYXRhLkN1ckluY2lTdGF0ZSkgfCBodG1sICVdPC9kaXY+CgkJCQk8L3RkPgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkQ3VySW5jaVN0YXRlIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkQ3VySW5jaVN0YXRlVHlwZSIpICVdCgkJCQk8dGQ+CgkJCQkJPGRpdiB0aXRsZT0iWyUgVHJhbnNsYXRlKERhdGEuQ3VySW5jaVN0YXRlVHlwZSkgfCBodG1sICVdIj5bJSBUcmFuc2xhdGUoRGF0YS5DdXJJbmNpU3RhdGVUeXBlKSB8IGh0bWwgJV08L2Rpdj4KCQkJCTwvdGQ+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRDdXJJbmNpU3RhdGVUeXBlIikgJV0KWyUgUmVuZGVyQmxvY2tTdGFydCgiUmVjb3JkWE1MQXR0cmlidXRlIikgJV0KCQkJCTx0ZD5bJSBEYXRhLlhNTEF0dHJpYnV0ZURhdGEgfCBodG1sICVdPC90ZD4KWyUgUmVuZGVyQmxvY2tFbmQoIlJlY29yZFhNTEF0dHJpYnV0ZSIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIlJlY29yZExhc3RDaGFuZ2VkIikgJV0KICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPSJbJSBEYXRhLkNyZWF0ZVRpbWUgfCBMb2NhbGl6ZSgiVGltZUxvbmciKSAlXSI+WyUgRGF0YS5DcmVhdGVUaW1lIHwgTG9jYWxpemUoIlRpbWVMb25nIikgJV08L2Rpdj4KICAgICAgICAgICAgICAgIDwvdGQ+ClslIFJlbmRlckJsb2NrRW5kKCJSZWNvcmRMYXN0Q2hhbmdlZCIpICVdCiAgICAgICAgICAgIDwvdHI+CgpbJSBSZW5kZXJCbG9ja0VuZCgiUmVjb3JkIikgJV0KICAgICAgICA8L3Rib2R5PgogICAgPC90YWJsZT4KPC9kaXY+CgpbJSBXUkFQUEVSIEpTT25Eb2N1bWVudENvbXBsZXRlICVdCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4vLzwhW0NEQVRBWwpbJSBSZW5kZXJCbG9ja1N0YXJ0KCJFZGl0YWJsZUNvbHVtbiIpICVdCgllY0NvdW50ZXIrKzsKWyUgUmVuZGVyQmxvY2tTdGFydCgiRWRpdGFibGVDb2x1bW5UZXh0IikgJV0KCWVkaXRhYmxlQ29sdW1ucy5wdXNoKAoJCVtlY0NvdW50ZXIsJ1slIERhdGEuTmFtZSAlXSddCgkJKTsKWyUgUmVuZGVyQmxvY2tFbmQoIkVkaXRhYmxlQ29sdW1uVGV4dCIpICVdClslIFJlbmRlckJsb2NrU3RhcnQoIkVkaXRhYmxlQ29sdW1uR2VuZXJhbENhdGFsb2ciKSAlXQoJZWRpdGFibGVDb2x1bW5zLnB1c2goCgkJW2VjQ291bnRlciwnWyUgRGF0YS5OYW1lICVdJywne1slIERhdGEuR2VuZXJhbENhdGFsb2cgJV19J10KCQkpOwpbJSBSZW5kZXJCbG9ja0VuZCgiRWRpdGFibGVDb2x1bW5HZW5lcmFsQ2F0YWxvZyIpICVdClslIFJlbmRlckJsb2NrRW5kKCJFZGl0YWJsZUNvbHVtbiIpICVdCgoJCSQoJyNDTURCVGFibGUnKS5UYWJsZWRpdCh7CgkJCXVybDogIlslIEVudigiQmFzZWxpbmsiKSAlXUFjdGlvbj1BZ2VudElUU01Db25maWdJdGVtQWpheFVwZGF0ZSIsCgkJCWVkaXRCdXR0b246IGZhbHNlLAoJCQlkZWxldGVCdXR0b246IGZhbHNlLAoJCQloaWRlSWRlbnRpZmllcjogdHJ1ZSwKCQkJcm93SWRlbnRpZmllcjonZGF0YS1jbWRiLW51bWJlcicsCgkJCWNvbHVtbnM6IHsKCQkJCWlkZW50aWZpZXI6IFsyLCAnQ29uZmlnSXRlbSddLAoJCQkJZWRpdGFibGU6IGVkaXRhYmxlQ29sdW1ucywKCQkJfSwKCQkJb25TdWNjZXNzOiBmdW5jdGlvbihkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikgewoJCQkJY29uc29sZS5sb2coJ29uU3VjY2VzcyhkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUiknKTsKCQkJCWNvbnNvbGUubG9nKGRhdGEpOwoJCQkJY29uc29sZS5sb2codGV4dFN0YXR1cyk7CgkJCQljb25zb2xlLmxvZyhqcVhIUik7CgkJCX0sCgkJCW9uRmFpbDogZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCQljb25zb2xlLmxvZygnb25GYWlsKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biknKTsKCQkJCWNvbnNvbGUubG9nKGpxWEhSKTsKCQkJCWNvbnNvbGUubG9nKHRleHRTdGF0dXMpOwoJCQkJY29uc29sZS5sb2coZXJyb3JUaHJvd24pOwoJCQl9LAoJCX0pOwogICAgCi8vXV0+PC9zY3JpcHQ+ClslIEVORCAlXQoK</File>
        <File Location="Kernel/Config/Files/XML/ComplementoCmdbTableView.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+CjxvdHJzX2NvbmZpZyB2ZXJzaW9uPSIyLjAiIGluaXQ9IkNvbmZpZyI+CiAgICA8U2V0dGluZyBOYW1lPSJGcm9udGVuZDo6TW9kdWxlIyMjQWdlbnRJVFNNQ29uZmlnSXRlbUFqYXhVcGRhdGUiIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RnJvbnRlbmQgbW9kdWxlIHJlZ2lzdHJhdGlvbiBmb3IgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpBZ2VudDo6TW9kdWxlUmVnaXN0cmF0aW9uPC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEl0ZW0gVmFsdWVUeXBlPSJGcm9udGVuZFJlZ2lzdHJhdGlvbiI+CiAgICAgICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ikdyb3VwUm8iPgogICAgICAgICAgICAgICAgICAgICAgICA8QXJyYXk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+CiAgICAgICAgICAgICAgICAgICAgPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8QXJyYXk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SXRlbT5pdHNtLWNvbmZpZ2l0ZW08L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvQXJyYXk+CiAgICAgICAgICAgICAgICAgICAgPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iRGVzY3JpcHRpb24iPkNvbmZpZyBJdGVtIEFqYXggVXBkYXRlPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iVGl0bGUiPkFqYXggVXBkYXRlPC9JdGVtPgogICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmF2QmFyTmFtZSI+Q29uZmlnIEl0ZW08L0l0ZW0+CiAgICAgICAgICAgICAgICA8L0hhc2g+CiAgICAgICAgICAgIDwvSXRlbT4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgogICAgPFNldHRpbmcgTmFtZT0iRnJvbnRlbmQ6Ok5hdmlnYXRpb24jIyNBZ2VudElUU01Db25maWdJdGVtQWpheFVwZGF0ZSMjIzAwMy1Db21wbGVtZW50b0NtZGJUYWJsZVZpZXciIFJlcXVpcmVkPSIwIiBWYWxpZD0iMCI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+TWFpbiBtZW51IGl0ZW0gcmVnaXN0cmF0aW9uLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OkFnZW50OjpNb2R1bGVSZWdpc3RyYXRpb246Ok1haW5NZW51PC9OYXZpZ2F0aW9uPgogICAgICAgIDxWYWx1ZT4KICAgICAgICAgICAgPEFycmF5PgogICAgICAgICAgICAgICAgPERlZmF1bHRJdGVtIFZhbHVlVHlwZT0iRnJvbnRlbmROYXZpZ2F0aW9uIj4KICAgICAgICAgICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgICAgICA8L0hhc2g+CiAgICAgICAgICAgICAgICA8L0RlZmF1bHRJdGVtPgogICAgICAgICAgICA8L0FycmF5PgogICAgICAgIDwvVmFsdWU+CiAgICA8L1NldHRpbmc+CiAKICAgIDxTZXR0aW5nIE5hbWU9IkxvYWRlcjo6QWdlbnQ6OkNvbW1vbkpTIyMjMjM1LVRhYmxlRWRpdCIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5MaXN0IG9mIEpTIGZpbGVzIHRvIGFsd2F5cyBiZSBsb2FkZWQgZm9yIHRoZSBhZ2VudCBpbnRlcmZhY2UuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8TmF2aWdhdGlvbj5Gcm9udGVuZDo6QmFzZTwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxBcnJheT4KICAgICAgICAgICAgICAgIDxJdGVtPnRoaXJkcGFydHkvdGFibGVlZGl0L2pxdWVyeS50YWJsZWRpdC5taW4uanM8L0l0ZW0+CiAgICAgICAgICAgIDwvQXJyYXk+CiAgICAgICAgPC9WYWx1ZT4KICAgIDwvU2V0dGluZz4KICAgIDxTZXR0aW5nIE5hbWU9IlByZWZlcmVuY2VzR3JvdXBzIyMjQ29uZmlnSXRlbU92ZXJ2aWV3VGFibGVQYWdlU2hvd24iIFJlcXVpcmVkPSIwIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+UGFyYW1ldGVycyBmb3IgdGhlIHBhZ2VzIChpbiB3aGljaCB0aGUgY29uZmlndXJhdGlvbiBpdGVtcyBhcmUgc2hvd24pLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPE5hdmlnYXRpb24+RnJvbnRlbmQ6OkFnZW50OjpWaWV3OjpQcmVmZXJlbmNlczwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJNb2R1bGUiPktlcm5lbDo6T3V0cHV0OjpIVE1MOjpQcmVmZXJlbmNlczo6R2VuZXJpYzwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUHJlZmVyZW5jZUdyb3VwIj5PdGhlciBTZXR0aW5nczwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTGFiZWwiIFRyYW5zbGF0YWJsZT0iMSI+Q29uZmlndXJhdGlvbiBJdGVtIExpbWl0PC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJLZXkiIFRyYW5zbGF0YWJsZT0iMSI+Q29uZmlndXJhdGlvbiBJdGVtIGxpbWl0IHBlciBwYWdlPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEYXRhIj4KICAgICAgICAgICAgICAgICAgICA8SGFzaD4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIxMCI+MDAxMDwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIxNSI+MDAxNTwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIyMCI+MDAyMDwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIyNSI+MDAyNTwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIzMCI+MDAzMDwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIzNSI+MDAzNTwvSXRlbT4KICAgICAgICAgICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSIxMDAiPjAxMDA8L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iNTAwIj4wNTAwPC9JdGVtPgogICAgICAgICAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IjEwMDAiPjEwMDA8L0l0ZW0+CiAgICAgICAgICAgICAgICAgICAgPC9IYXNoPgogICAgICAgICAgICAgICAgPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEYXRhU2VsZWN0ZWQiPjEwMDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUHJlZktleSI+VXNlckNvbmZpZ0l0ZW1PdmVydmlld1RhYmxlUGFnZVNob3duPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJQcmlvIj44MDAxPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJBY3RpdmUiPjA8L0l0ZW0+CiAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgogICAgPFNldHRpbmcgTmFtZT0iSVRTTUNvbmZpZ0l0ZW06OkZyb250ZW5kOjpPdmVydmlldyMjI1RhYmxlIiBSZXF1aXJlZD0iMCIgVmFsaWQ9IjEiPgogICAgICAgIDxEZXNjcmlwdGlvbiBUcmFuc2xhdGFibGU9IjEiPkRlZmluZXMgYW4gb3ZlcnZpZXcgbW9kdWxlIHRvIHNob3cgdGhlIHRhYmxlIHZpZXcgb2YgYSBjb25maWd1cmF0aW9uIGl0ZW0gbGlzdC48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxOYXZpZ2F0aW9uPkZyb250ZW5kOjpBZ2VudDo6SVRTTUNvbmZpZ0l0ZW1PdmVydmlldzwvTmF2aWdhdGlvbj4KICAgICAgICA8VmFsdWU+CiAgICAgICAgICAgIDxIYXNoPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJNb2R1bGUiPktlcm5lbDo6T3V0cHV0OjpIVE1MOjpJVFNNQ29uZmlnSXRlbTo6T3ZlcnZpZXdUYWJsZTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iTmFtZSI+VGFibGU8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik5hbWVTaG9ydCI+VDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUGFnZVNob3duIj4xMDA8L0l0ZW0+CiAgICAgICAgICAgIDwvSGFzaD4KICAgICAgICA8L1ZhbHVlPgogICAgPC9TZXR0aW5nPgo8L290cnNfY29uZmlnPgo=</File>
        <File Location="Kernel/Output/HTML/ITSMConfigItem/OverviewTable.pm" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAwMS0yMDE2IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpPdXRwdXQ6OkhUTUw6OklUU01Db25maWdJdGVtOjpPdmVydmlld1RhYmxlOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKb3VyIEBPYmplY3REZXBlbmRlbmNpZXMgPSAoCiAgICAnS2VybmVsOjpDb25maWcnLAogICAgJ0tlcm5lbDo6T3V0cHV0OjpIVE1MOjpMYXlvdXQnLAogICAgJ0tlcm5lbDo6U3lzdGVtOjpHZW5lcmFsQ2F0YWxvZycsCiAgICAnS2VybmVsOjpTeXN0ZW06OkhUTUxVdGlscycsCiAgICAnS2VybmVsOjpTeXN0ZW06OklUU01Db25maWdJdGVtJywKICAgICdLZXJuZWw6OlN5c3RlbTo6TG9nJywKICAgICdLZXJuZWw6OlN5c3RlbTo6TWFpbicsCik7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHslUGFyYW19OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgZ2V0IGxvZyBvYmplY3QKICAgIG15ICRMb2dPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6TG9nJyk7CgogICAgbXkgJFVzZXJPYmplY3QgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpVc2VyJyk7CiAgICAKICAgIG15ICVVc2VyUHJlZmVyZW5jZXMgPSAkVXNlck9iamVjdC0+R2V0UHJlZmVyZW5jZXMoCiAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICk7CgoJIyBDT01QTEVNRU5UTzogR2V0IFBhcmFtIE9iamVjdCBBZ2FpbgoJbXkgJFBhcmFtT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OldlYjo6UmVxdWVzdCcpOwoJIyBXZSBuZWVkIGdldCBhbm90aGVyIHBhcmFtZXRlciBmb3Igc29ydGluZyB0byBub3QgY29uZmxpY3Qgd2l0aCBTb3J0QnkuIFdlIGFsc28gc3RvcmUgdGhlIHByZWZlcmVkIHNvcnQgb3JkZXIgb2YgdGhlIHVzZXIJCgkkUGFyYW17U29ydEJ5QWZ0ZXJ9ID0gJFBhcmFtT2JqZWN0LT5HZXRQYXJhbSggUGFyYW0gPT4gJ1NvcnRCeUFmdGVyJyApfHwkVXNlclByZWZlcmVuY2VzeydJVFNNQ01EQlNvcnRCeUFmdGVyJy4kUGFyYW17RmlsdGVyfX0gfHwgJ051bWJlcic7CgkkUGFyYW17T3JkZXJCeX0gPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnT3JkZXJCeScgKXx8JFVzZXJQcmVmZXJlbmNlc3snSVRTTUNNREJPcmRlckJ5QWZ0ZXInLiRQYXJhbXtGaWx0ZXJ9fSB8fCAnRG93bic7CgoKCiAgICAkVXNlck9iamVjdC0+U2V0UHJlZmVyZW5jZXMoCiAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICBLZXkgICAgPT4gJ0lUU01DTURCU29ydEJ5QWZ0ZXInLiRQYXJhbXtGaWx0ZXJ9LAogICAgICAgIFZhbHVlICA9PiAkUGFyYW17U29ydEJ5QWZ0ZXJ9LAogICAgKTsKICAgICRVc2VyT2JqZWN0LT5TZXRQcmVmZXJlbmNlcygKICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgIEtleSAgICA9PiAnSVRTTUNNREJPcmRlckJ5QWZ0ZXInLiRQYXJhbXtGaWx0ZXJ9LAogICAgICAgIFZhbHVlICA9PiAkUGFyYW17T3JkZXJCeX0sCiAgICApOwoJCgogICAgIyBjaGVjayBuZWVkZWQgc3R1ZmYKICAgIGZvciBteSAkTmVlZGVkIChxdyhQYWdlU2hvd24gU3RhcnRIaXQpKSB7CiAgICAgICAgaWYgKCAhJFBhcmFteyROZWVkZWR9ICkgewogICAgICAgICAgICAkTG9nT2JqZWN0LT5Mb2coCiAgICAgICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk5lZWQgJE5lZWRlZCEiLAogICAgICAgICAgICApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgICMgbmVlZCBDb25maWdJdGVtSURzCiAgICBpZiAoICEkUGFyYW17Q29uZmlnSXRlbUlEc30gKSB7CiAgICAgICAgJExvZ09iamVjdC0+TG9nKAogICAgICAgICAgICBQcmlvcml0eSA9PiAnZXJyb3InLAogICAgICAgICAgICBNZXNzYWdlICA9PiAnTmVlZCB0aGUgQ29uZmlnSXRlbUlEcyEnLAogICAgICAgICk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgICMgZGVmaW5lIGluY2lkZW50IHNpZ25hbHMsIG5lZWRlZCBmb3Igc2VydmljZXMKICAgIG15ICVJbmNpU2lnbmFscyA9ICgKICAgICAgICBvcGVyYXRpb25hbCA9PiAnZ3JlZW5sZWQnLAogICAgICAgIHdhcm5pbmcgICAgID0+ICd5ZWxsb3dsZWQnLAogICAgICAgIGluY2lkZW50ICAgID0+ICdyZWRsZWQnLAogICAgKTsKCiAgICAjIHRvIHN0b3JlIHRoZSBjb2xvciBmb3IgdGhlIGRlcGxveW1lbnQgc3RhdGVzCiAgICBteSAlRGVwbFNpZ25hbHM7CgogICAgIyBnZXQgZ2VuZXJhbCBjYXRhbG9nIG9iamVjdAogICAgbXkgJEdlbmVyYWxDYXRhbG9nT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkdlbmVyYWxDYXRhbG9nJyk7CgogICAgIyBnZXQgbGlzdCBvZiBkZXBsb3ltZW50IHN0YXRlcwogICAgbXkgJERlcGxveW1lbnRTdGF0ZXNMaXN0ID0gJEdlbmVyYWxDYXRhbG9nT2JqZWN0LT5JdGVtTGlzdCgKICAgICAgICBDbGFzcyA9PiAnSVRTTTo6Q29uZmlnSXRlbTo6RGVwbG95bWVudFN0YXRlJywKICAgICk7CgogICAgIyBzZXQgZGVwbG95bWVudCBzdHlsZSBjb2xvcnMKICAgIG15ICRTdHlsZUNsYXNzZXMgPSAnJzsKCiAgICBJVEVNSUQ6CiAgICBmb3IgbXkgJEl0ZW1JRCAoIHNvcnQga2V5cyAleyREZXBsb3ltZW50U3RhdGVzTGlzdH0gKSB7CgogICAgICAgICMgZ2V0IGRlcGxveW1lbnQgc3RhdGUgcHJlZmVyZW5jZXMKICAgICAgICBteSAlUHJlZmVyZW5jZXMgPSAkR2VuZXJhbENhdGFsb2dPYmplY3QtPkdlbmVyYWxDYXRhbG9nUHJlZmVyZW5jZXNHZXQoCiAgICAgICAgICAgIEl0ZW1JRCA9PiAkSXRlbUlELAogICAgICAgICk7CgogICAgICAgICMgY2hlY2sgaWYgYSBjb2xvciBpcyBkZWZpbmVkIGluIHByZWZlcmVuY2VzCiAgICAgICAgbmV4dCBJVEVNSUQgaWYgISRQcmVmZXJlbmNlc3tDb2xvcn07CgogICAgICAgICMgZ2V0IGRlcGxveW1lbnQgc3RhdGUKICAgICAgICBteSAkRGVwbFN0YXRlID0gJERlcGxveW1lbnRTdGF0ZXNMaXN0LT57JEl0ZW1JRH07CgogICAgICAgICMgcmVtb3ZlIGFueSBub24gYXNjaWkgd29yZCBjaGFyYWN0ZXJzCiAgICAgICAgJERlcGxTdGF0ZSA9fiBzeyBbXmEtekEtWjAtOV0gfXtffW1zeGc7CgogICAgICAgICMgc3RvcmUgdGhlIG9yaWdpbmFsIGRlcGxveW1lbnQgc3RhdGUgYXMga2V5CiAgICAgICAgIyBhbmQgdGhlIHNzIHNhZmUgY292ZXJ0ZWQgZGVwbG95bWVudCBzdGF0ZSBhcyB2YWx1ZQogICAgICAgICREZXBsU2lnbmFsc3sgJERlcGxveW1lbnRTdGF0ZXNMaXN0LT57JEl0ZW1JRH0gfSA9ICREZXBsU3RhdGU7CgogICAgICAgICMgY292ZXJ0IHRvIGxvd2VyIGNhc2UKICAgICAgICBteSAkRGVwbFN0YXRlQ29sb3IgPSBsYyAkUHJlZmVyZW5jZXN7Q29sb3J9OwoKICAgICAgICAjIGFkZCB0byBzdHlsZSBjbGFzc2VzIHN0cmluZwogICAgICAgICRTdHlsZUNsYXNzZXMgLj0gIgogICAgICAgICAgICAuRmxhZyBzcGFuLiREZXBsU3RhdGUgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIyREZXBsU3RhdGVDb2xvcjsKICAgICAgICAgICAgfQogICAgICAgICI7CiAgICB9CgogICAgIyB3cmFwIGludG8gc3R5bGUgdGFncwogICAgaWYgKCRTdHlsZUNsYXNzZXMpIHsKICAgICAgICAkU3R5bGVDbGFzc2VzID0gIjxzdHlsZT4kU3R5bGVDbGFzc2VzPC9zdHlsZT4iOwogICAgfQoKICAgICMgc3RvcmUgZWl0aGVyIENvbmZpZ0l0ZW0gSURzIExvY2FsbHkKICAgIG15IEBDb25maWdJdGVtSURzID0gQHsgJFBhcmFte0NvbmZpZ0l0ZW1JRHN9IH07CgoKCgoKCgoKICAgICMgZ2V0IG5lZWRlZCBvYmplY3RzCiAgICBteSAkQ29uZmlnT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRMYXlvdXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6Ok91dHB1dDo6SFRNTDo6TGF5b3V0Jyk7CgogICAgIyBjaGVjayBpZiBidWxrIGZlYXR1cmUgaXMgZW5hYmxlZAogICAgbXkgJEJ1bGtGZWF0dXJlID0gMDsKICAgIGlmICggJENvbmZpZ09iamVjdC0+R2V0KCdJVFNNQ29uZmlnSXRlbTo6RnJvbnRlbmQ6OkJ1bGtGZWF0dXJlJykgKSB7CiAgICAgICAgbXkgQEdyb3VwczsKICAgICAgICBpZiAoICRDb25maWdPYmplY3QtPkdldCgnSVRTTUNvbmZpZ0l0ZW06OkZyb250ZW5kOjpCdWxrRmVhdHVyZUdyb3VwJykgKSB7CiAgICAgICAgICAgIEBHcm91cHMgPSBAeyAkQ29uZmlnT2JqZWN0LT5HZXQoJ0lUU01Db25maWdJdGVtOjpGcm9udGVuZDo6QnVsa0ZlYXR1cmVHcm91cCcpIH07CiAgICAgICAgfQogICAgICAgIGlmICggIUBHcm91cHMgKSB7CiAgICAgICAgICAgICRCdWxrRmVhdHVyZSA9IDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBHUk9VUDoKICAgICAgICAgICAgZm9yIG15ICRHcm91cCAoQEdyb3VwcykgewogICAgICAgICAgICAgICAgbmV4dCBHUk9VUCBpZiAhJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06Okdyb3VwJyktPlBlcm1pc3Npb25DaGVjaygKICAgICAgICAgICAgICAgICAgICBVc2VySUQgICAgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICAgICAgICAgIEdyb3VwTmFtZSA9PiAkR3JvdXAsCiAgICAgICAgICAgICAgICAgICAgVHlwZSAgICAgID0+ICdydycsCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICRCdWxrRmVhdHVyZSA9IDE7CiAgICAgICAgICAgICAgICBsYXN0IEdST1VQOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICMgZ2V0IGNvbmZpZyBpdGVtIHByZSBtZW51IG1vZHVsZXMKICAgIG15IEBBY3Rpb25JdGVtczsKICAgIGlmICggcmVmICRDb25maWdPYmplY3QtPkdldCgnSVRTTUNvbmZpZ0l0ZW06OkZyb250ZW5kOjpQcmVNZW51TW9kdWxlJykgZXEgJ0hBU0gnICkgewogICAgICAgIG15ICVNZW51cyA9ICV7ICRDb25maWdPYmplY3QtPkdldCgnSVRTTUNvbmZpZ0l0ZW06OkZyb250ZW5kOjpQcmVNZW51TW9kdWxlJykgfTsKCiAgICAgICAgTUVOVToKICAgICAgICBmb3IgbXkgJE1lbnVLZXkgKCBzb3J0IGtleXMgJU1lbnVzICkgewoKICAgICAgICAgICAgIyBsb2FkIG1vZHVsZQogICAgICAgICAgICBpZiAoICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpNYWluJyktPlJlcXVpcmUoICRNZW51c3skTWVudUtleX0tPntNb2R1bGV9ICkgKSB7CiAgICAgICAgICAgICAgICBteSAkT2JqZWN0ID0gJE1lbnVzeyRNZW51S2V5fS0+e01vZHVsZX0tPm5ldygKICAgICAgICAgICAgICAgICAgICAleyRTZWxmfSwKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgIyBjaGVjayBpZiB0aGUgbWVudSBpcyBhdmFpbGFibGUKICAgICAgICAgICAgICAgIG5leHQgTUVOVSBpZiByZWYgJE1lbnVzeyRNZW51S2V5fSBuZSAnSEFTSCc7CgogICAgICAgICAgICAgICAgIyBzZXQgY2xhc3NlcwogICAgICAgICAgICAgICAgaWYgKCAkTWVudXN7JE1lbnVLZXl9LT57VGFyZ2V0fSApIHsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCAkTWVudXN7JE1lbnVLZXl9LT57VGFyZ2V0fSBlcSAnUG9wVXAnICkgewogICAgICAgICAgICAgICAgICAgICAgICAkTWVudXN7JE1lbnVLZXl9LT57TWVudUNsYXNzfSA9ICdBc1BvcHVwJzsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbnVzeyRNZW51S2V5fS0+e1BvcHVwVHlwZX0gPSAnSVRTTUNvbmZpZ0l0ZW1BY3Rpb24nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbnVzeyRNZW51S2V5fS0+e01lbnVDbGFzc30gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbnVzeyRNZW51S2V5fS0+e1BvcHVwVHlwZX0gPSAnJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyBncmFudCBhY2Nlc3MgYnkgZGVmYXVsdAogICAgICAgICAgICAgICAgbXkgJEFjY2VzcyA9IDE7CgogICAgICAgICAgICAgICAgbXkgJEFjdGlvbiA9ICRNZW51c3skTWVudUtleX0tPntBY3Rpb259OwoKICAgICAgICAgICAgICAgICMgY2FuIG5vdCBleGVjdXRlIHRoZSBtb2R1bGUgZHVlIHRvIGEgQ29uZmlnSXRlbSBpcyByZXF1aXJlZCwgdGhlbiBqdXN0IGNoZWNrIHRoZQogICAgICAgICAgICAgICAgIyBwZXJtaXNzaW9ucyBhcyBpbiB0aGUgTWVudU1vZHVsZUdlbmVyaWMKICAgICAgICAgICAgICAgIG15ICRHcm91cHNSbyA9ICRDb25maWdPYmplY3QtPkdldCgnRnJvbnRlbmQ6Ok1vZHVsZScpLT57JEFjdGlvbn0tPntHcm91cFJvfSB8fCBbXTsKICAgICAgICAgICAgICAgIG15ICRHcm91cHNSdyA9ICRDb25maWdPYmplY3QtPkdldCgnRnJvbnRlbmQ6Ok1vZHVsZScpLT57JEFjdGlvbn0tPntHcm91cH0gICB8fCBbXTsKCiAgICAgICAgICAgICAgICAjIGNoZWNrIHBlcm1pc3Npb24KICAgICAgICAgICAgICAgIGlmICggJEFjdGlvbiAmJiAoIEB7JEdyb3Vwc1JvfSB8fCBAeyRHcm91cHNSd30gKSApIHsKCiAgICAgICAgICAgICAgICAgICAgIyBkZW55IGFjY2VzcyBieSBkZWZhdWx0LCB3aGVuIHRoZXJlIGFyZSBncm91cHMgdG8gY2hlY2sKICAgICAgICAgICAgICAgICAgICAkQWNjZXNzID0gMDsKCiAgICAgICAgICAgICAgICAgICAgIyBjaGVjayByZWFkIG9ubHkgZ3JvdXBzCiAgICAgICAgICAgICAgICAgICAgUk9HUk9VUDoKICAgICAgICAgICAgICAgICAgICBmb3IgbXkgJFJvR3JvdXAgKCBAeyRHcm91cHNSb30gKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgUk9HUk9VUCBpZiAhJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06Okdyb3VwJyktPlBlcm1pc3Npb25DaGVjaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJRCAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPT4gJFJvR3JvdXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlICAgICAgPT4gJ3JvJywKICAgICAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICMgc2V0IGFjY2VzcwogICAgICAgICAgICAgICAgICAgICAgICAkQWNjZXNzID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCBST0dST1VQOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIyBjaGVjayByZWFkIHdyaXRlIGdyb3VwcwogICAgICAgICAgICAgICAgICAgIFJXR1JPVVA6CiAgICAgICAgICAgICAgICAgICAgZm9yIG15ICRSd0dyb3VwICggQHskR3JvdXBzUnd9ICkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXh0IFJXR1JPVVAgaWYgISRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpHcm91cCcpLT5QZXJtaXNzaW9uQ2hlY2soCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VySUQgICAgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0+ICRSd0dyb3VwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSAgICAgID0+ICdydycsCiAgICAgICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgICAgICAjIHNldCBhY2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgJEFjY2VzcyA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgUldHUk9VUDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyByZXR1cm4gaWYgdGhlcmUgaXMgbm8gYWNjZXNzIHRvIHRoZSBtb2R1bGUKICAgICAgICAgICAgICAgIG5leHQgTUVOVSBpZiAhJEFjY2VzczsKCiAgICAgICAgICAgICAgICAjIHRyYW5zbGF0ZSBOYW1lIGFuZCBEZXNjcmlwdGlvbgogICAgICAgICAgICAgICAgbXkgJERlc2NyaXB0aW9uID0gJExheW91dE9iamVjdC0+e0xhbmd1YWdlT2JqZWN0fS0+VHJhbnNsYXRlKCAkTWVudXN7JE1lbnVLZXl9LT57RGVzY3JpcHRpb259ICk7CiAgICAgICAgICAgICAgICBteSAkTmFtZSAgICAgICAgPSAkTGF5b3V0T2JqZWN0LT57TGFuZ3VhZ2VPYmplY3R9LT5UcmFuc2xhdGUoICRNZW51c3skTWVudUtleX0tPntEZXNjcmlwdGlvbn0gKTsKCiAgICAgICAgICAgICAgICAjIGdlbmVyYXJ0ZSBhIHdlYiBzYWZlIGxpbmsKICAgICAgICAgICAgICAgIG15ICRMaW5rID0gJExheW91dE9iamVjdC0+e0Jhc2VsaW5rfSAuICRNZW51c3skTWVudUtleX0tPntMaW5rfTsKCiAgICAgICAgICAgICAgICAjIHNhbml0eSBjaGVjawogICAgICAgICAgICAgICAgaWYgKCAhZGVmaW5lZCAkTWVudXN7JE1lbnVLZXl9LT57TWVudUNsYXNzfSApIHsKICAgICAgICAgICAgICAgICAgICAkTWVudXN7JE1lbnVLZXl9LT57TWVudUNsYXNzfSA9ICcnOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgZ2VuZXJhdGUgSFRNTCBmb3IgdGhlIG1lbnUgaXRlbQogICAgICAgICAgICAgICAgbXkgJE1lbnVIVE1MID0gPDwgIkVORCI7CjxsaT4KICAgIDxhIGhyZWY9IiRMaW5rIiBjbGFzcz0iJE1lbnVzeyRNZW51S2V5fS0+e01lbnVDbGFzc30iIHRpdGxlPSIkRGVzY3JpcHRpb24iPiROYW1lPC9hPgo8L2xpPgpFTkQKCiAgICAgICAgICAgICAgICAkTWVudUhUTUwgPX4gcy9cbisvL2c7CiAgICAgICAgICAgICAgICAkTWVudUhUTUwgPX4gcy9ccysvIC9nOwogICAgICAgICAgICAgICAgJE1lbnVIVE1MID1+IHMvPFwhLS0uKz8tLT4vL2c7CgogICAgICAgICAgICAgICAgJE1lbnVzeyRNZW51S2V5fS0+e0lEfSA9ICRNZW51c3skTWVudUtleX0tPntOYW1lfTsKICAgICAgICAgICAgICAgICRNZW51c3skTWVudUtleX0tPntJRH0gPX4gcy8oXHN8Jnw7KS8vaWc7CgogICAgICAgICAgICAgICAgcHVzaCBAQWN0aW9uSXRlbXMsIHsKICAgICAgICAgICAgICAgICAgICBIVE1MICAgICAgICA9PiAkTWVudUhUTUwsCiAgICAgICAgICAgICAgICAgICAgSUQgICAgICAgICAgPT4gJE1lbnVzeyRNZW51S2V5fS0+e0lEfSwKICAgICAgICAgICAgICAgICAgICBMaW5rICAgICAgICA9PiAkTGluaywKICAgICAgICAgICAgICAgICAgICBUYXJnZXQgICAgICA9PiAkTWVudXN7JE1lbnVLZXl9LT57VGFyZ2V0fSwKICAgICAgICAgICAgICAgICAgICBQb3B1cFR5cGUgICA9PiAkTWVudXN7JE1lbnVLZXl9LT57UG9wdXBUeXBlfSwKICAgICAgICAgICAgICAgICAgICBEZXNjcmlwdGlvbiA9PiAkRGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICMgY2hlY2sgU2hvd0NvbHVtbnMgcGFyYW1ldGVyCiAgICBteSBAU2hvd0NvbHVtbnM7CiAgICBteSBAWE1MU2hvd0NvbHVtbnM7CiAgICBpZiAoICRQYXJhbXtTaG93Q29sdW1uc30gJiYgcmVmICRQYXJhbXtTaG93Q29sdW1uc30gZXEgJ0FSUkFZJyApIHsKICAgICAgICBAU2hvd0NvbHVtbnMgPSBAeyAkUGFyYW17U2hvd0NvbHVtbnN9IH07CiAgICB9CgogICAgIyBnZXQgY29uZmlnIGl0ZW0gb2JqZWN0CiAgICBteSAkQ29uZmlnSXRlbU9iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpJVFNNQ29uZmlnSXRlbScpOwoKICAgICMgYnVpbGQgY29sdW1uIGhlYWRlciBibG9ja3MKICAgIGlmIChAU2hvd0NvbHVtbnMpIHsKCiAgICAgICAgIyBzaG93IHRoZSBidWxrIGFjdGlvbiBidXR0b24gY2hlY2tib3hlcyBpZiBmZWF0dXJlIGlzIGVuYWJsZWQKICAgICAgICBpZiAoJEJ1bGtGZWF0dXJlKSB7CiAgICAgICAgICAgIHB1c2ggQFNob3dDb2x1bW5zLCAnQnVsa0FjdGlvbic7CiAgICAgICAgfQoKICAgICAgICBmb3IgbXkgJENvbHVtbiAoQFNob3dDb2x1bW5zKSB7CiAgICAgICAgCQoKICAgICAgICAgICAgIyBjcmVhdGUgbmVlZGVkIHZlcmlhYmxlcwogICAgICAgICAgICBteSAkQ1NTID0gJ092ZXJ2aWV3SGVhZGVyJzsKICAgICAgICAgICAgbXkgJE9yZGVyQnk7CgogICAgICAgICAgICAjIHJlbW92ZSBJRCBpZiBuZWNlc2FyeQogICAgICAgICAgICBpZiAoICRQYXJhbXtTb3J0QnlBZnRlcn0gKSB7CiAgICAgICAgICAgICAgICAkUGFyYW17U29ydEJ5QWZ0ZXJ9ID0gKCAkUGFyYW17U29ydEJ5QWZ0ZXJ9IGVxICdJbmNpU3RhdGVJRCcgKQogICAgICAgICAgICAgICAgICAgID8gJ0N1ckluY2lTdGF0ZScKICAgICAgICAgICAgICAgICAgICA6ICggJFBhcmFte1NvcnRCeUFmdGVyfSBlcSAnRGVwbFN0YXRlSUQnICkgPyAnQ3VyRGVwbFN0YXRlJwogICAgICAgICAgICAgICAgICAgIDogKCAkUGFyYW17U29ydEJ5QWZ0ZXJ9IGVxICdDbGFzc0lEJyApICAgICA/ICdDbGFzcycKICAgICAgICAgICAgICAgICAgICA6ICggJFBhcmFte1NvcnRCeUFmdGVyfSBlcSAnQ2hhbmdlVGltZScgKSAgPyAnTGFzdENoYW5nZWQnCiAgICAgICAgICAgICAgICAgICAgOiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQYXJhbXtTb3J0QnlBZnRlcn07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgc2V0IHRoZSBjb3JyZWN0IFNldCBDU1MgY2xhc3MgYW5kIG9yZGVyIGJ5IGxpbmsKICAgICAgICAgICAgaWYgKCAkUGFyYW17U29ydEJ5QWZ0ZXJ9ICYmICggJFBhcmFte1NvcnRCeUFmdGVyfSBlcSAkQ29sdW1uICkgKSB7CiAgICAgICAgICAgICAgICBpZiAoICRQYXJhbXtPcmRlckJ5fSAmJiAoICRQYXJhbXtPcmRlckJ5fSBlcSAnVXAnICkgKSB7CiAgICAgICAgICAgICAgICAgICAgJE9yZGVyQnkgPSAnRG93bic7CiAgICAgICAgICAgICAgICAgICAgJENTUyAuPSAnIFNvcnREZXNjZW5kaW5nTGFyZ2UnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJE9yZGVyQnkgPSAnVXAnOwogICAgICAgICAgICAgICAgICAgICRDU1MgLj0gJyBTb3J0QXNjZW5kaW5nTGFyZ2UnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJE9yZGVyQnkgPSAnVXAnOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1JlY29yZCcgLiAkQ29sdW1uIC4gJ0hlYWRlcicsCiAgICAgICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgQ1NTICAgICA9PiAkQ1NTLAogICAgICAgICAgICAgICAgICAgIE9yZGVyQnkgPT4gJE9yZGVyQnksCiAgICAgICAgICAgICAgICAgICAgIyBDT01QTEVNRU5UTwogICAgICAgICAgICAgICAgICAgIENvbHVtbiA9PiAkQ29sdW1uLAogICAgICAgICAgICAgICAgICAgICMgRU8gQ09NUExFTUVOVE8KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICAjIERlcGxveW1lbnQgU3RhdGUgZm9yIGVkaXRpbmcgdGhlIGNvbHVtbgogICAgICAgICAgICBpZigkQ29sdW1uIGVxICdDdXJEZXBsU3RhdGUnKXsKICAgICAgICAgICAgCW15IEBEZXBsb3ltZW50U3RhdGVzTGlzdEFycmF5ID0gc29ydCBrZXlzICV7JERlcGxveW1lbnRTdGF0ZXNMaXN0fTsKICAgICAgICAgICAgCW15ICRpPTA7CiAgICAgICAgICAgICAgICBmb3IgbXkgJEl0ZW1JRCAoIEBEZXBsb3ltZW50U3RhdGVzTGlzdEFycmF5ICkgewogICAgICAgICAgICAgICAgCW15ICRDb21tYT0nLCc7CgkJICAgICAgICAgICAgaWYoICAkaSA9PSAkI0RlcGxveW1lbnRTdGF0ZXNMaXN0QXJyYXkgICkgewoJCQkJCQkkQ29tbWE9Jyc7CgkJCQkJfQoJCQkJCSRpKys7CgkJCQkgICAgJExheW91dE9iamVjdC0+QmxvY2soCgkJCQkgICAgICAgIE5hbWUgPT4gJ0RsU3RhdGUnLAoJCQkJICAgICAgICBEYXRhID0+IHsKCQkJCQkJCUlEID0+ICRJdGVtSUQsCgkJCQkJCQlTdGF0ZSA9PiAkRGVwbG95bWVudFN0YXRlc0xpc3QtPnskSXRlbUlEfSwKCQkJCQkJCUNvbW1hID0+ICRDb21tYQoJCQkJICAgICAgICB9LAoJCQkJICAgICk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICMgZ2V0IHRoZSBYTUwgY29sdW1uIGhlYWRlcnMgb25seSBpZiB0aGUgZmlsdGVyIGlzIG5vdCBzZXQgdG8gJ2FsbCcKICAgICAgICAjIGFuZCBpZiB0aGVyZSBhcmUgQ0lzIHRvIHNob3cKICAgICAgICBpZiAoICRQYXJhbXtGaWx0ZXJ9ICYmICRQYXJhbXtGaWx0ZXJ9IG5lICdBbGwnICYmIEBDb25maWdJdGVtSURzICkgewoKICAgICAgICAgICAgIyBnZXQgdGhlIHZlcnNpb24gZGF0YSBvZiB0aGUgZmlyc3QgY29uZmlnIGl0ZW0sIGluY2x1ZGluZyBhbGwgdGhlIFhNTCBkYXRhCiAgICAgICAgICAgICMgdG8gZ2V0IHRoZSBjb2x1bW4gaGVhZGVyIG5hbWVzCiAgICAgICAgICAgIG15ICRDb25maWdJdGVtID0gJENvbmZpZ0l0ZW1PYmplY3QtPlZlcnNpb25HZXQoCiAgICAgICAgICAgICAgICBDb25maWdJdGVtSUQgPT4gJENvbmZpZ0l0ZW1JRHNbMF0sCiAgICAgICAgICAgICAgICBYTUxEYXRhR2V0ICAgPT4gMSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICMgY29udmVydCB0aGUgWE1MIGRhdGEgaW50byBhIGhhc2gKICAgICAgICAgICAgbXkgJEV4dGVuZGVkVmVyc2lvbkRhdGEgPSAkU2VsZi0+X1hNTERhdGEySGFzaCgKICAgICAgICAgICAgICAgIFhNTERlZmluaXRpb24gPT4gJENvbmZpZ0l0ZW0tPntYTUxEZWZpbml0aW9ufSwKICAgICAgICAgICAgICAgIFhNTERhdGEgICAgICAgPT4gJENvbmZpZ0l0ZW0tPntYTUxEYXRhfS0+WzFdLT57VmVyc2lvbn0tPlsxXSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICMgZ2V0IHRoZSB4bWwgY29sdW1ucyAodGhleSBjb250YWluIDo6KQogICAgICAgICAgICBAWE1MU2hvd0NvbHVtbnMgPSBncmVwIC86Oi8sIEBTaG93Q29sdW1uczsKCiAgICAgICAgICAgIENPTFVNTjoKICAgICAgICAgICAgZm9yIG15ICRDb2x1bW4gKEBYTUxTaG93Q29sdW1ucykgewoKICAgICAgICAgICAgICAgICMgY2hlY2sgaWYgY29sdW1uIGV4aXN0cyBpbiBDSS1EYXRhCiAgICAgICAgICAgICAgICBuZXh0IENPTFVNTiBpZiAhJEV4dGVuZGVkVmVyc2lvbkRhdGEtPnskQ29sdW1ufS0+e05hbWV9OwoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCQkgICAgICAgICMgY3JlYXRlIG5lZWRlZCB2ZXJpYWJsZXMKCQkgICAgICAgIG15ICRDU1MgPSAnT3ZlcnZpZXdIZWFkZXInOwoJCSAgICAgICAgbXkgJE9yZGVyQnk7CgkJICAgICAgICAjIHNldCB0aGUgY29ycmVjdCBTZXQgQ1NTIGNsYXNzIGFuZCBvcmRlciBieSBsaW5rCgkJICAgICAgICBpZiAoICRQYXJhbXtTb3J0QnlBZnRlcn0gJiYgKCAkUGFyYW17U29ydEJ5QWZ0ZXJ9IGVxICRDb2x1bW4gKSApIHsKCQkgICAgICAgICAgICBpZiAoICRQYXJhbXtPcmRlckJ5fSAmJiAoICRQYXJhbXtPcmRlckJ5fSBlcSAnVXAnICkgKSB7CgkJICAgICAgICAgICAgICAgICRPcmRlckJ5ID0gJ0Rvd24nOwoJCSAgICAgICAgICAgICAgICAkQ1NTIC49ICcgU29ydERlc2NlbmRpbmdMYXJnZSc7CgkJICAgICAgICAgICAgfQoJCSAgICAgICAgICAgIGVsc2UgewoJCSAgICAgICAgICAgICAgICAkT3JkZXJCeSA9ICdVcCc7CgkJICAgICAgICAgICAgICAgICRDU1MgLj0gJyBTb3J0QXNjZW5kaW5nTGFyZ2UnOwoJCSAgICAgICAgICAgIH0KCQkgICAgICAgIH0KCQkgICAgICAgIGVsc2UgewoJCSAgICAgICAgICAgICRPcmRlckJ5ID0gJ1VwJzsKCQkgICAgICAgIH0KCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiAgICAgICAgICAgICAgICAjIHNob3cgdGhlIHhtbCBhdHRyaWJ1dGUgaGVhZGVyCiAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICBOYW1lID0+ICdSZWNvcmRYTUxBdHRyaWJ1dGVIZWFkZXInLAogICAgICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgIFhNTEF0dHJpYnV0ZUhlYWRlciA9PiAkRXh0ZW5kZWRWZXJzaW9uRGF0YS0+eyRDb2x1bW59LT57TmFtZX0sCiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJENvbHVtbiwKCQkgICAgICAgICAgICAgICAgQ1NTICAgICA9PiAkQ1NTLAoJCSAgICAgICAgICAgICAgICBPcmRlckJ5ID0+ICRPcmRlckJ5LAoKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAoJCQkJIyBDT01QTEVNRU5UTyBFRElUQUJMRSBDT0xVTU4KCQkJCWlmKCRDb2x1bW4gPX4gLzo6Lyl7CgkJCQkgICAgJExheW91dE9iamVjdC0+QmxvY2soCgkJCQkgICAgICAgIE5hbWUgPT4gJ0VkaXRhYmxlQ29sdW1uJywKCQkJCSAgICAgICAgRGF0YSA9PiB7fSwKCQkJCSAgICApOwoJCQkJICAgIGlmKCRFeHRlbmRlZFZlcnNpb25EYXRhLT57JENvbHVtbn0tPntJbnB1dERlZmluaXRpb259LT57VHlwZX0gZXEgJ1RleHQnKXsKCQkJCQkJJExheW91dE9iamVjdC0+QmxvY2soCgkJCQkJCQlOYW1lID0+ICdFZGl0YWJsZUNvbHVtblRleHQnLAoJCQkJCQkJRGF0YSA9PiB7CgkJCQkJCQkgICAgTmFtZSA9PiAkQ29sdW1uLAoJCQkJCQkJfSwKCQkJCQkJKTsKCQkJCQl9IGVsc2lmKCRFeHRlbmRlZFZlcnNpb25EYXRhLT57JENvbHVtbn0tPntJbnB1dERlZmluaXRpb259LT57VHlwZX0gZXEgJ0dlbmVyYWxDYXRhbG9nJyl7CgoJCQkJCQkjIGdldCBsaXN0IG9mIGRlcGxveW1lbnQgc3RhdGVzCgkJCQkJCW15ICRHZW5lcmFsQ2F0YWxvZ0xpc3QgPSAkR2VuZXJhbENhdGFsb2dPYmplY3QtPkl0ZW1MaXN0KAoJCQkJCQkJQ2xhc3MgPT4gJEV4dGVuZGVkVmVyc2lvbkRhdGEtPnskQ29sdW1ufS0+e0lucHV0RGVmaW5pdGlvbn0tPntDbGFzc30sCgkJCQkJCSk7CgkJCQkJCQoJCQkJCQlteSAlR2VuZXJhbENhdGFsb2dIYXNoID0gJXskR2VuZXJhbENhdGFsb2dMaXN0fTsKCQkJCQkJCgkJCQkJCW15ICRHZW5lcmFsQ2F0YWxvZ1N0cmluZyA9IGpvaW4oIiwiLCBtYXAgeyAnIicuJF8uJyI6IicuJExheW91dE9iamVjdC0+e0xhbmd1YWdlT2JqZWN0fS0+VHJhbnNsYXRlKCRHZW5lcmFsQ2F0YWxvZ0hhc2h7JF99KS4nIicgfSBrZXlzICVHZW5lcmFsQ2F0YWxvZ0hhc2gpOwoJCQkJCQkkTGF5b3V0T2JqZWN0LT5CbG9jaygKCQkJCQkJCU5hbWUgPT4gJ0VkaXRhYmxlQ29sdW1uR2VuZXJhbENhdGFsb2cnLAoJCQkJCQkJRGF0YSA9PiB7CgkJCQkJCQkgICAgTmFtZSA9PiAkQ29sdW1uLAoJCQkJCQkJICAgIEdlbmVyYWxDYXRhbG9nID0+ICRHZW5lcmFsQ2F0YWxvZ1N0cmluZwoJCQkJCQkJfSwKCQkJCQkJKTsKCQkJCQl9CgoJCQkgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIG15ICRPdXRwdXQgID0gJyc7CiAgICBteSAkQ291bnRlciA9IDA7CglteSAlRGF0YUZvck9yZGVyaW5nOwoKIyBDT01QTEVNRU5UTwogICAgbXkgJUNvbW1vbk9yZGVyQnlUYWJsZSA9ICgKICAgICAgICBDb25maWdJdGVtSUQgPT4gMSwKICAgICAgICBOdW1iZXIgICAgICAgPT4gMSwKICAgICAgICBOYW1lICAgICAgICAgPT4gMSwKICAgICAgICBDbGFzc0lEICAgICAgPT4gMSwKICAgICAgICBEZXBsU3RhdGVJRCAgPT4gMSwKICAgICAgICBJbmNpU3RhdGVJRCAgPT4gMSwKICAgICAgICBDcmVhdGVUaW1lICAgPT4gMSwKICAgICAgICBDcmVhdGVCeSAgICAgPT4gMSwKICAgICAgICBDaGFuZ2VUaW1lICAgPT4gMSwKICAgICAgICBDaGFuZ2VCeSAgICAgPT4gMSwKICAgICk7CgogICAgIyBzaG93IGNvbmZpZyBpdGVtcyBpZiB0aGVyZSBhcmUgc29tZQogICAgaWYgKEBDb25maWdJdGVtSURzKSB7CgogICAgICAgICMgdG8gc3RvcmUgYWxsIGRhdGEKICAgICAgICBteSAlRGF0YTsKCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIE9SREVSIENvbmZpZyBJdGVtIGZvciBvdGhlciBhdHRyaWJ1dGVzCiAgICAgICAgQ09ORklHSVRFTUlEOgogICAgICAgIGZvciBteSAkQ29uZmlnSXRlbUlEIChAQ29uZmlnSXRlbUlEcykgewogICAgICAgICAgICAjIGdldCBjb25maWcgaXRlbSBkYXRhCiAgICAgICAgICAgIG15ICRDb25maWdJdGVtID0gJENvbmZpZ0l0ZW1PYmplY3QtPlZlcnNpb25HZXQoCiAgICAgICAgICAgICAgICBDb25maWdJdGVtSUQgPT4gJENvbmZpZ0l0ZW1JRCwKICAgICAgICAgICAgICAgIFhNTERhdGFHZXQgICA9PiAxLAogICAgICAgICAgICApOwogICAgICAgICAgICBuZXh0IENPTkZJR0lURU1JRCBpZiAhJENvbmZpZ0l0ZW07CgogICAgICAgICAgICAjIGNvbnZlcnQgdGhlIFhNTCBkYXRhIGludG8gYSBoYXNoCiAgICAgICAgICAgIG15ICRFeHRlbmRlZFZlcnNpb25EYXRhID0gJFNlbGYtPl9YTUxEYXRhMkhhc2goCiAgICAgICAgICAgICAgICBYTUxEZWZpbml0aW9uID0+ICRDb25maWdJdGVtLT57WE1MRGVmaW5pdGlvbn0sCiAgICAgICAgICAgICAgICBYTUxEYXRhICAgICAgID0+ICRDb25maWdJdGVtLT57WE1MRGF0YX0tPlsxXS0+e1ZlcnNpb259LT5bMV0sCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAoJCQkkRGF0YUZvck9yZGVyaW5neyRDb25maWdJdGVtSUR9LT57TmFtZX0gPSAkQ29uZmlnSXRlbS0+e05hbWV9OwoJCQkKCQkJaWYgKCRDb21tb25PcmRlckJ5VGFibGV7JFBhcmFte1NvcnRCeUFmdGVyfX0pewoJCQkJJERhdGFGb3JPcmRlcmluZ3skQ29uZmlnSXRlbUlEfS0+e1ZhbHVlfSA9ICRDb25maWdJdGVtLT57JFBhcmFte1NvcnRCeUFmdGVyfX0gfHwgJyc7CgkJCX0gZWxzZSB7CgkJICAgICAgICAkRGF0YUZvck9yZGVyaW5neyRDb25maWdJdGVtSUR9LT57VmFsdWV9ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkhUTUxVdGlscycpCgkJICAgICAgICAgICAgICAgICAgICAgICAgLT5Ub0FzY2lpKCBTdHJpbmcgPT4gJEV4dGVuZGVkVmVyc2lvbkRhdGEtPnsiJFBhcmFte1NvcnRCeUFmdGVyfSJ9LT57VmFsdWV9ICkgfHwgJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCgkJbXkgQE9yZGVyZWRDb25maWdJdGVtSURzID0gc29ydCB7CgkJCQkJCQkJCQkgICAoJERhdGFGb3JPcmRlcmluZ3skYX0tPntWYWx1ZX0gPD0+ICREYXRhRm9yT3JkZXJpbmd7JGJ9LT57VmFsdWV9KQoJCQkJCQkJCQkJfHwgKGxjKCREYXRhRm9yT3JkZXJpbmd7JGF9LT57VmFsdWV9KSBjbXAgbGMoJERhdGFGb3JPcmRlcmluZ3skYn0tPntWYWx1ZX0pKQoJCQkJCQkJCQkJIyBrZWVwIHNvbWUgc29ydCBvZiBzYW1lIHJlc3VsdCB3aGVuIGV2ZXJ5dGhpbmcgaXMgc2ltaWxhcgoJCQkJCQkJCQkJfHwgKGxjKCREYXRhRm9yT3JkZXJpbmd7JGF9LT57TmFtZX0pICBjbXAgbGMoJERhdGFGb3JPcmRlcmluZ3skYn0tPntOYW1lfSkpCgkJCQkJCQkJCQl8fCAoJGEgICA8PT4gICRiKQoJCX0ga2V5cyglRGF0YUZvck9yZGVyaW5nKTsKCQkKICAgICAgICBpZiAoJFBhcmFteydPcmRlckJ5J30gZXEgJ0Rvd24nKSB7CiAgICAgICAgCUBPcmRlcmVkQ29uZmlnSXRlbUlEcz1yZXZlcnNlIEBPcmRlcmVkQ29uZmlnSXRlbUlEczsKICAgICAgICB9CgoKCgkJJENvdW50ZXIgPSAwOwogICAgICAgIENPTkZJR0lURU1JRDoKICAgICAgICBmb3IgbXkgJENvbmZpZ0l0ZW1JRCAoQE9yZGVyZWRDb25maWdJdGVtSURzKSB7CiAgICAgICAgICAgICRDb3VudGVyKys7CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICRDb3VudGVyID49ICRQYXJhbXtTdGFydEhpdH0KICAgICAgICAgICAgICAgICYmICRDb3VudGVyIDwgKCAkUGFyYW17UGFnZVNob3dufSArICRQYXJhbXtTdGFydEhpdH0gKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgIyBjaGVjayBmb3IgYWNjZXNzIHJpZ2h0cwogICAgICAgICAgICAgICAgbXkgJEhhc0FjY2VzcyA9ICRDb25maWdJdGVtT2JqZWN0LT5QZXJtaXNzaW9uKAogICAgICAgICAgICAgICAgICAgIFNjb3BlICA9PiAnSXRlbScsCiAgICAgICAgICAgICAgICAgICAgSXRlbUlEID0+ICRDb25maWdJdGVtSUQsCiAgICAgICAgICAgICAgICAgICAgVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICAgICAgICAgICAgICBUeXBlICAgPT4gJFNlbGYtPntDb25maWd9LT57UGVybWlzc2lvbn0sCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIG5leHQgQ09ORklHSVRFTUlEIGlmICEkSGFzQWNjZXNzOwoKICAgICAgICAgICAgICAgICMgZ2V0IGNvbmZpZyBpdGVtIGRhdGEKICAgICAgICAgICAgICAgIG15ICRDb25maWdJdGVtID0gJENvbmZpZ0l0ZW1PYmplY3QtPlZlcnNpb25HZXQoCiAgICAgICAgICAgICAgICAgICAgQ29uZmlnSXRlbUlEID0+ICRDb25maWdJdGVtSUQsCiAgICAgICAgICAgICAgICAgICAgWE1MRGF0YUdldCAgID0+IDEsCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIG5leHQgQ09ORklHSVRFTUlEIGlmICEkQ29uZmlnSXRlbTsKCiAgICAgICAgICAgICAgICAjIGNvbnZlcnQgdGhlIFhNTCBkYXRhIGludG8gYSBoYXNoCiAgICAgICAgICAgICAgICBteSAkRXh0ZW5kZWRWZXJzaW9uRGF0YSA9ICRTZWxmLT5fWE1MRGF0YTJIYXNoKAogICAgICAgICAgICAgICAgICAgIFhNTERlZmluaXRpb24gPT4gJENvbmZpZ0l0ZW0tPntYTUxEZWZpbml0aW9ufSwKICAgICAgICAgICAgICAgICAgICBYTUxEYXRhICAgICAgID0+ICRDb25maWdJdGVtLT57WE1MRGF0YX0tPlsxXS0+e1ZlcnNpb259LT5bMV0sCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICMgc3RvcmUgY29uZmlnIGl0ZW0gZGF0YSwKICAgICAgICAgICAgICAgICVEYXRhID0gJXskQ29uZmlnSXRlbX07CgogICAgICAgICAgICAgICAgIyBidWlsZCByZWNvcmQgYmxvY2sKICAgICAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1JlY29yZCcsCiAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgICAgICAgICAgICAgJURhdGEsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgIyBidWlsZCBjb2x1bW4gcmVjb3JkIGJsb2NrcwogICAgICAgICAgICAgICAgaWYgKEBTaG93Q29sdW1ucykgewoKICAgICAgICAgICAgICAgICAgICBDT0xVTU46CiAgICAgICAgICAgICAgICAgICAgZm9yIG15ICRDb2x1bW4gKEBTaG93Q29sdW1ucykgewogICAgICAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1JlY29yZCcgLiAkQ29sdW1uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICVEYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1ckluY2lTaWduYWwgPT4gJEluY2lTaWduYWxzeyAkRGF0YXtDdXJJbmNpU3RhdGVUeXBlfSB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1ckRlcGxTaWduYWwgPT4gJERlcGxTaWduYWxzeyAkRGF0YXtDdXJEZXBsU3RhdGV9IH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICAgICAgICAgIyBzaG93IGxpbmtzIGlmIGF2YWlsYWJsZQogICAgICAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1JlY29yZCcgLiAkQ29sdW1uIC4gJ0xpbmtTdGFydCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAlUGFyYW0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJURhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5CbG9jaygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPT4gJ1JlY29yZCcgLiAkQ29sdW1uIC4gJ0xpbmtFbmQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICVEYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIENPTFVNTjoKICAgICAgICAgICAgICAgICAgICBmb3IgbXkgJENvbHVtbiAoQFhNTFNob3dDb2x1bW5zKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAjIGNoZWNrIGlmIGNvbHVtbiBleGlzdHMgaW4gQ0ktRGF0YQogICAgICAgICAgICAgICAgICAgICAgICBuZXh0IENPTFVNTiBpZiAhJEV4dGVuZGVkVmVyc2lvbkRhdGEtPnskQ29sdW1ufS0+e05hbWV9OwoKICAgICAgICAgICAgICAgICAgICAgICAgIyBjb252ZXJ0IHRvIGFzY2lpIHRleHQgaW4gY2FzZSB0aGUgdmFsdWUgY29udGFpbnMgaHRtbAogICAgICAgICAgICAgICAgICAgICAgICBteSAkVmFsdWUgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6SFRNTFV0aWxzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0+VG9Bc2NpaSggU3RyaW5nID0+ICRFeHRlbmRlZFZlcnNpb25EYXRhLT57JENvbHVtbn0tPntWYWx1ZX0gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgJyc7CgogICAgICAgICAgICAgICAgICAgICAgICAjIGNvbnZlcnQgYWxsIHdoaXRlc3BhY2UgYW5kIG5ld2xpbmVzIHRvIHNpbmdsZSBzcGFjZXMKICAgICAgICAgICAgICAgICAgICAgICAgJFZhbHVlID1+IHN7IFxzKyB9eyB9Z3htczsKCiAgICAgICAgICAgICAgICAgICAgICAgICMgc2hvdyB0aGUgeG1sIGF0dHJpYnV0ZSBkYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9PiAnUmVjb3JkWE1MQXR0cmlidXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICVQYXJhbSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYTUxBdHRyaWJ1dGVEYXRhID0+ICRWYWx1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgbWFrZSBhIGRlZXAgY29weSBvZiB0aGUgYWN0aW9uIGl0ZW1zIHRvIGF2b2lkIGNoYW5naW5nIHRoZSBkZWZpbml0aW9uCiAgICAgICAgICAgICAgICBteSAkQ2xvbmVkQWN0aW9uSXRlbXMgPSBTdG9yYWJsZTo6ZGNsb25lKCBcQEFjdGlvbkl0ZW1zICk7CgogICAgICAgICAgICAgICAgIyBzdWJzdGl0dXRlIFRUIHZhcmlhYmxlcwogICAgICAgICAgICAgICAgZm9yIG15ICRBY3Rpb25JdGVtICggQHskQ2xvbmVkQWN0aW9uSXRlbXN9ICkgewogICAgICAgICAgICAgICAgICAgICRBY3Rpb25JdGVtLT57SFRNTH0gPX4gc3sgXFFbJSBEYXRhLkNvbmZpZ0l0ZW1JRCB8IGh0bWwgJV1cRSB9eyRDb25maWdJdGVtSUR9eG1zZzsKICAgICAgICAgICAgICAgICAgICAkQWN0aW9uSXRlbS0+e0hUTUx9ID1+IHN7IFxRWyUgRGF0YS5WZXJzaW9uSUQgfCBodG1sICVdXEUgfXskQ29uZmlnSXRlbS0+e1ZlcnNpb25JRH19eG1zZzsKICAgICAgICAgICAgICAgICAgICAkQWN0aW9uSXRlbS0+e0xpbmt9ID1+IHN7IFxRWyUgRGF0YS5Db25maWdJdGVtSUQgfCBodG1sICVdXEUgfXskQ29uZmlnSXRlbUlEfXhtc2c7CiAgICAgICAgICAgICAgICAgICAgJEFjdGlvbkl0ZW0tPntMaW5rfSA9fiBzeyBcUVslIERhdGEuVmVyc2lvbklEIHwgaHRtbCAlXVxFIH17JENvbmZpZ0l0ZW0tPntWZXJzaW9uSUR9fXhtc2c7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAjICAgIG15ICRKU09OID0gJExheW91dE9iamVjdC0+SlNPTkVuY29kZSgKICAgICAgICAgICAgIyAgICAgICAgRGF0YSA9PiAkQ2xvbmVkQWN0aW9uSXRlbXMsCiAgICAgICAgICAgICMgICAgKTsKCiAgICAgICAgICAgICMgICAgJExheW91dE9iamVjdC0+QmxvY2soCiAgICAgICAgICAgICMgICAgICAgIE5hbWUgPT4gJ0RvY3VtZW50UmVhZHlBY3Rpb25Sb3dBZGQnLAogICAgICAgICAgICAjICAgICAgICBEYXRhID0+IHsKICAgICAgICAgICAgIyAgICAgICAgICAgIENvbmZpZ0l0ZW1JRCA9PiAkQ29uZmlnSXRlbUlELAogICAgICAgICAgICAjICAgICAgICAgICAgRGF0YSAgICAgICAgID0+ICRKU09OLAogICAgICAgICAgICAjICAgICAgICB9LAogICAgICAgICAgICAjICAgICk7CiAgICAgICAgICAgICAgICAgICAkTGF5b3V0T2JqZWN0LT5BZGRKU0RhdGEoCiAgICAgICAgICAgICAgICAgICAgS2V5ICAgPT4gJ0lUU01Db25maWdJdGVtQWN0aW9uUm93LicgLiAkQ29uZmlnSXRlbUlELAogICAgICAgICAgICAgICAgICAgIFZhbHVlID0+ICRDbG9uZWRBY3Rpb25JdGVtcywKICAgICAgICAgICAgICAgICk7CgkJCX0KICAgICAgICB9CiAgICB9CgogICAgIyBpZiB0aGVyZSBhcmUgbm8gY29uZmlnIGl0ZW1zIHRvIHNob3csIGEgbm8gZGF0YSBmb3VuZCBtZXNzYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgdGFibGUKICAgIGVsc2UgewogICAgICAgICRMYXlvdXRPYmplY3QtPkJsb2NrKAogICAgICAgICAgICBOYW1lID0+ICdOb0RhdGFGb3VuZE1zZycsCiAgICAgICAgICAgIERhdGEgPT4gewogICAgICAgICAgICAgICAgVG90YWxDb2x1bW5zID0+IHNjYWxhciBAU2hvd0NvbHVtbnMsCiAgICAgICAgICAgIH0sCiAgICAgICAgKTsKICAgIH0KCiAgICAjIHVzZSB0ZW1wbGF0ZQogICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5PdXRwdXQoCiAgICAgICAgVGVtcGxhdGVGaWxlID0+ICdBZ2VudElUU01Db25maWdJdGVtT3ZlcnZpZXdUYWJsZScsCiAgICAgICAgRGF0YSAgICAgICAgID0+IHsKICAgICAgICAgICAgJVBhcmFtLAogICAgICAgICAgICBUeXBlICAgICAgICAgPT4gJFNlbGYtPntWaWV3VHlwZX0sCiAgICAgICAgICAgIENvbHVtbkNvdW50ICA9PiBzY2FsYXIgQFNob3dDb2x1bW5zLAogICAgICAgICAgICBTdHlsZUNsYXNzZXMgPT4gJFN0eWxlQ2xhc3NlcywKICAgICAgICB9LAogICAgKTsKCiAgICByZXR1cm4gJE91dHB1dDsKfQoKPW92ZXIKCj1pdGVtIF9YTUxEYXRhMkhhc2goKQoKcmV0dXJucyBhIGhhc2ggcmVmZXJlbmNlIHdpdGggYWxsIHhtbCBkYXRhIG9mIGEgY29uZmlnIGl0ZW0KClJldHVybgoKICAgICREYXRhID0gewogICAgICAgICdIYXJkRGlzazo6MicgPT4gewogICAgICAgICAgICBWYWx1ZSA9PiAnSEQyJywKICAgICAgICAgICAgTmFtZSAgPT4gJ0hhcmQgRGlzaycsCiAgICAgICAgIH0sCiAgICAgICAgJ0NQVTo6MScgPT4gewogICAgICAgICAgICBWYWx1ZSA9PiAnJywKICAgICAgICAgICAgTmFtZSAgPT4gJ0NQVScsCiAgICAgICAgfSwKICAgICAgICAnSGFyZERpc2s6OjI6OkNhcGFjaXR5OjoxJyA9PiB7CiAgICAgICAgICAgIFZhbHVlID0+ICc3ODAgR0InLAogICAgICAgICAgICBOYW1lICA9PiAnQ2FwYWNpdHknLAogICAgICAgIH0sCiAgICB9OwoKICAgIG15ICREYXRhID0gX1hNTERhdGEySGFzaCgKICAgICAgICBYTUxEZWZpbml0aW9uID0+ICRWZXJzaW9uLT57WE1MRGVmaW5pdGlvbn0sCiAgICAgICAgWE1MRGF0YSAgICAgICA9PiAkVmVyc2lvbi0+e1hNTERhdGF9LT5bMV0tPntWZXJzaW9ufS0+WzFdLAogICAgICAgIERhdGEgICAgICAgICAgPT4gXCVEYXRhSGFzaFJlZiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG9wdGlvbmFsCiAgICAgICAgUHJlZml4ICAgICAgICA9PiAnSGFyZERpc2s6OjEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgb3B0aW9uYWwKICAgICk7Cgo9Y3V0CgpzdWIgX1hNTERhdGEySGFzaCB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICByZXR1cm4gaWYgISRQYXJhbXtYTUxEYXRhfTsKICAgIHJldHVybiBpZiAhJFBhcmFte1hNTERlZmluaXRpb259OwogICAgcmV0dXJuIGlmIHJlZiAkUGFyYW17WE1MRGF0YX0gbmUgJ0hBU0gnOwogICAgcmV0dXJuIGlmIHJlZiAkUGFyYW17WE1MRGVmaW5pdGlvbn0gbmUgJ0FSUkFZJzsKCiAgICAjIHRvIHN0b3JlIHRoZSByZXR1cm4gZGF0YQogICAgbXkgJERhdGEgPSAkUGFyYW17RGF0YX0gfHwge307CgogICAgSVRFTToKICAgIGZvciBteSAkSXRlbSAoIEB7ICRQYXJhbXtYTUxEZWZpbml0aW9ufSB9ICkgewogICAgICAgIENPVU5URVI6CiAgICAgICAgZm9yIG15ICRDb3VudGVyICggMSAuLiAkSXRlbS0+e0NvdW50TWF4fSApIHsKCiAgICAgICAgICAgICMgbG9va3VwIHZhbHVlCiAgICAgICAgICAgIG15ICRWYWx1ZSA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpJVFNNQ29uZmlnSXRlbScpLT5YTUxWYWx1ZUxvb2t1cCgKICAgICAgICAgICAgICAgIEl0ZW0gID0+ICRJdGVtLAogICAgICAgICAgICAgICAgVmFsdWUgPT4gJFBhcmFte1hNTERhdGF9LT57ICRJdGVtLT57S2V5fSB9LT5bJENvdW50ZXJdLT57Q29udGVudH0gfHwgJycsCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAjIG9ubHkgaWYgdmFsdWUgaXMgbm90IGVtcHR5CiAgICAgICAgICAgIGlmICgkVmFsdWUpIHsKCiAgICAgICAgICAgICAgICAjIGNyZWF0ZSBvdXRwdXQgc3RyaW5nCiAgICAgICAgICAgICAgICAkVmFsdWUgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6Ok91dHB1dDo6SFRNTDo6TGF5b3V0JyktPklUU01Db25maWdJdGVtT3V0cHV0U3RyaW5nQ3JlYXRlKAogICAgICAgICAgICAgICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICAgICAgICAgICAgICAgICBJdGVtICA9PiAkSXRlbSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgYWRkIHByZWZpeAogICAgICAgICAgICBteSAkUHJlZml4ID0gJEl0ZW0tPntLZXl9IC4gJzo6JyAuICRDb3VudGVyOwogICAgICAgICAgICBpZiAoICRQYXJhbXtQcmVmaXh9ICkgewogICAgICAgICAgICAgICAgJFByZWZpeCA9ICRQYXJhbXtQcmVmaXh9IC4gJzo6JyAuICRQcmVmaXg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgc3RvcmUgdGhlIGl0ZW0gaW4gaGFzaAogICAgICAgICAgICAkRGF0YS0+eyRQcmVmaXh9ID0gewogICAgICAgICAgICAgICAgTmFtZSAgPT4gJEl0ZW0tPntOYW1lfSwKICAgICAgICAgICAgICAgIFZhbHVlID0+ICRWYWx1ZSwKICAgICAgICAgICAgICAgICMgQ09NUExFTUVOVE8KICAgICAgICAgICAgICAgIElucHV0RGVmaW5pdGlvbiA9PiB7JXskSXRlbS0+e0lucHV0fX19CiAgICAgICAgICAgICAgICAjIEVPIENPTVBMRU1FTlRPCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAjIHN0YXJ0IHJlY3Vyc2lvbiwgaWYgIlN1YiIgd2FzIGZvdW5kCiAgICAgICAgICAgIGlmICggJEl0ZW0tPntTdWJ9ICkgewogICAgICAgICAgICAgICAgJERhdGEgPSAkU2VsZi0+X1hNTERhdGEySGFzaCgKICAgICAgICAgICAgICAgICAgICBYTUxEZWZpbml0aW9uID0+ICRJdGVtLT57U3VifSwKICAgICAgICAgICAgICAgICAgICBYTUxEYXRhICAgICAgID0+ICRQYXJhbXtYTUxEYXRhfS0+eyAkSXRlbS0+e0tleX0gfS0+WyRDb3VudGVyXSwKICAgICAgICAgICAgICAgICAgICBQcmVmaXggICAgICAgID0+ICRQcmVmaXgsCiAgICAgICAgICAgICAgICAgICAgRGF0YSAgICAgICAgICA9PiAkRGF0YSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICREYXRhOwp9CgoxOwoKPWJhY2sK</File>
        <File Location="Kernel/Modules/AgentITSMConfigItemAjaxUpdate.pm" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAwMS0yMDE2IE9UUlMgQUcsIGh0dHA6Ly9vdHJzLmNvbS8KIyAtLQojIFRoaXMgc29mdHdhcmUgY29tZXMgd2l0aCBBQlNPTFVURUxZIE5PIFdBUlJBTlRZLiBGb3IgZGV0YWlscywgc2VlCiMgdGhlIGVuY2xvc2VkIGZpbGUgQ09QWUlORyBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbiAoQUdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvYWdwbC50eHQuCiMgLS0KCnBhY2thZ2UgS2VybmVsOjpNb2R1bGVzOjpBZ2VudElUU01Db25maWdJdGVtQWpheFVwZGF0ZTsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFyaWFibGVDaGVjayBxdyg6YWxsKTsKCiNvdXIgJE9iamVjdE1hbmFnZXJEaXNhYmxlZCA9IDE7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHslUGFyYW19OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgbXkgcGFyYW0gb2JqZWN0CiAgICBteSAkUGFyYW1PYmplY3QgCQkgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6V2ViOjpSZXF1ZXN0Jyk7CiAgICBteSAkQ29uZmlnSXRlbU9iamVjdCAgICAgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6SVRTTUNvbmZpZ0l0ZW0nKTsKICAgIG15ICRHZW5lcmFsQ2F0YWxvZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6U3lzdGVtOjpHZW5lcmFsQ2F0YWxvZycpOwogICAgbXkgJENvbmZpZ09iamVjdCAgICAgICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpDb25maWcnKTsKICAgIG15ICRMYXlvdXRPYmplY3QgICAgICAgICA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6T3V0cHV0OjpIVE1MOjpMYXlvdXQnKTsKCiAgICBteSAkQ29uZmlnSXRlbUlEID0gJFBhcmFtT2JqZWN0LT5HZXRQYXJhbSggUGFyYW0gPT4gJ0NvbmZpZ0l0ZW1JRCcgKSB8fCAwOwogICAgbXkgJENoYW5nZWQgICAgICA9ICRQYXJhbU9iamVjdC0+R2V0UGFyYW0oIFBhcmFtID0+ICdDaGFuZ2VkJyApIAkgfHwgJyc7CiAgICBteSAkTmV3VmFsdWUgICAgID0gJFBhcmFtT2JqZWN0LT5HZXRQYXJhbSggUGFyYW0gPT4gJENoYW5nZWQgKSAJICAgICB8fCAnJzsKCgkKICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IGVxICdlZGl0JyApIHsKICAgICAgICAgICAgbXkgJENvbmZpZ0l0ZW0gPSAkQ29uZmlnSXRlbU9iamVjdC0+VmVyc2lvbkdldCgKICAgICAgICAgICAgICAgIENvbmZpZ0l0ZW1JRCA9PiAkQ29uZmlnSXRlbUlELAogICAgICAgICAgICAgICAgWE1MRGF0YUdldCAgID0+IDEsCiAgICAgICAgICAgICk7CgoJCQlteSAkaGs7CgoJCQlpZigkQ2hhbmdlZCA9fiAvOjovICl7CgkJCQlteSAka2V5ID0gJENoYW5nZWQ7CgkJCQlteSBAa2V5cyA9IHNwbGl0ICc6OicsICRrZXk7CgoJCQkJbXkgJGk9MDsKCQkJCWZvciBteSAkayAoQGtleXMpewoJCQkJCSRpKys7CgkJCQkJaWYoJGkgJSAyKXsKCQkJCQkJJGhrLj0iLT57JGt9IjsKCQkJCQl9IGVsc2UgewoJCQkJCQkkaGsuPSItPlska10iOwoJCQkJCX0KCQkJCX0KCQkJCSRoaz0nJENvbmZpZ0l0ZW0tPntYTUxEYXRhfS0+WzFdLT57VmVyc2lvbn0tPlsxXScuJGhrLictPntDb250ZW50fSA9ICROZXdWYWx1ZTsnOwoJCQl9IGVsc2UgewojCQkJCWlmICgkQ2hhbmdlZCBlcSAnQ3VyRGVwbFN0YXRlJykgewojCQkJCQkkQ2hhbmdlZCA9ICdEZXBsU3RhdGVJRCc7CiMJCQkJfQoJCQkJJGhrPSckQ29uZmlnSXRlbS0+e1wnJy4kQ2hhbmdlZC4nXCd9ID0gJE5ld1ZhbHVlOyc7CgkJCX0KCgkJCWV2YWwoJGhrKTsKCgkJCSMgYWRkIGEgbmV3IHZlcnNpb24gd2l0aCB0aGUgbncgaW5jaWRlbnQgc3RhdGUKCQkJbXkgJFZlcnNpb25JRCA9ICRLZXJuZWw6Ok9NLT5HZXQoIktlcm5lbDo6U3lzdGVtOjpJVFNNQ29uZmlnSXRlbSIpLT5WZXJzaW9uQWRkKAoJCQkJJXskQ29uZmlnSXRlbX0sCgoJCQkJVXNlcklEID0+ICRTZWxmLT57VXNlcklEfSwKCQkJKTsKCgkJCWlmKCEkVmVyc2lvbklEKXsKCQkJCSMgU2UgZXJybwoJCQkJcmV0dXJuICRMYXlvdXRPYmplY3QtPkF0dGFjaG1lbnQoCgkJCQkJQ29udGVudFR5cGUgPT4gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9JyAuICRMYXlvdXRPYmplY3QtPntDaGFyc2V0fSwKCQkJCQlDb250ZW50ICAgICA9PiAnJywKCQkJCQlUeXBlICAgICAgICA9PiAnaW5saW5lJywKCQkJCQlOb0NhY2hlICAgICA9PiAxLAoJCQkJKTsKCQkJfQoKCQkjIFNlIHN1Y2Vzc28JCgkJbXkgJVJlc3BvbnNlID0gKAoJCQlTdWNjZXNzZnVsID0+ICdvaycKCQkpOwoJCW15ICRKU09OID0gJExheW91dE9iamVjdC0+SlNPTkVuY29kZSgKCQkgICAgRGF0YSA9PiBcJVJlc3BvbnNlLAoJCSk7CgkJcmV0dXJuICRMYXlvdXRPYmplY3QtPkF0dGFjaG1lbnQoCgkJICAgIENvbnRlbnRUeXBlID0+ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PScgLiAkTGF5b3V0T2JqZWN0LT57Q2hhcnNldH0sCgkJICAgIENvbnRlbnQgICAgID0+ICRKU09OLAoJCSAgICBUeXBlICAgICAgICA9PiAnaW5saW5lJywKCQkgICAgTm9DYWNoZSAgICAgPT4gMSwKCQkpOwogICAgfQp9CgoxOwo=</File>
        <File Location="var/httpd/htdocs/js/thirdparty/tableedit/jquery.tabledit.min.js" Permission="644" Encode="Base64">LyohCiAqIFRhYmxlZGl0IHYxLjIuMyAoaHR0cHM6Ly9naXRodWIuY29tL21hcmtjZWxsL2pRdWVyeS1UYWJsZWRpdCkKICogQ29weXJpZ2h0IChjKSAyMDE1IENlbHNvIE1hcnF1ZXMKICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vbWFya2NlbGwvalF1ZXJ5LVRhYmxlZGl0L2Jsb2IvbWFzdGVyL0xJQ0VOU0UpCiAqLwoKLyoqCiAqIEBkZXNjcmlwdGlvbiBJbmxpbmUgZWRpdG9yIGZvciBIVE1MIHRhYmxlcyBjb21wYXRpYmxlIHdpdGggQm9vdHN0cmFwCiAqIEB2ZXJzaW9uIDEuMi4zCiAqIEBhdXRob3IgQ2Vsc28gTWFycXVlcwogKi8KCmlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykgewogIHRocm93IG5ldyBFcnJvcignVGFibGVkaXQgcmVxdWlyZXMgalF1ZXJ5IGxpYnJhcnkuJyk7Cn0KCihmdW5jdGlvbigkKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgJC5mbi5UYWJsZWRpdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICBpZiAoIXRoaXMuaXMoJ3RhYmxlJykpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYWJsZWRpdCBvbmx5IHdvcmtzIHdoZW4gYXBwbGllZCB0byBhIHRhYmxlLicpOwogICAgICAgIH0KCiAgICAgICAgdmFyICR0YWJsZSA9IHRoaXM7CgogICAgICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgaW5wdXRDbGFzczogJ2Zvcm0tY29udHJvbCBpbnB1dC1zbScsCiAgICAgICAgICAgIHRvb2xiYXJDbGFzczogJ2J0bi10b29sYmFyJywKICAgICAgICAgICAgZ3JvdXBDbGFzczogJ2J0bi1ncm91cCBidG4tZ3JvdXAtc20nLAogICAgICAgICAgICBkYW5nZXJDbGFzczogJ2RhbmdlcicsCiAgICAgICAgICAgIHdhcm5pbmdDbGFzczogJ3dhcm5pbmcnLAogICAgICAgICAgICBtdXRlZENsYXNzOiAndGV4dC1tdXRlZCcsCiAgICAgICAgICAgIGV2ZW50VHlwZTogJ2NsaWNrJywKICAgICAgICAgICAgcm93SWRlbnRpZmllcjogJ2lkJywKICAgICAgICAgICAgaGlkZUlkZW50aWZpZXI6IGZhbHNlLAogICAgICAgICAgICBhdXRvRm9jdXM6IHRydWUsCiAgICAgICAgICAgIGVkaXRCdXR0b246IHRydWUsCiAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgc2F2ZUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgcmVzdG9yZUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgYnV0dG9uczogewogICAgICAgICAgICAgICAgZWRpdDogewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnYnRuIGJ0bi1zbSBidG4tZGVmYXVsdCcsCiAgICAgICAgICAgICAgICAgICAgaHRtbDogJzxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXBlbmNpbCI+PC9zcGFuPicsCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZWRpdCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkZWxldGU6IHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc20gYnRuLWRlZmF1bHQnLAogICAgICAgICAgICAgICAgICAgIGh0bWw6ICc8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaCI+PC9zcGFuPicsCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHNhdmU6IHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc20gYnRuLXN1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIGh0bWw6ICdTYXZlJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlc3RvcmU6IHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc20gYnRuLXdhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgIGh0bWw6ICdSZXN0b3JlJywKICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdyZXN0b3JlJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvbmZpcm06IHsKICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2J0biBidG4tc20gYnRuLWRhbmdlcicsCiAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0NvbmZpcm0nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uRHJhdzogZnVuY3Rpb24oKSB7IHJldHVybjsgfSwKICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbigpIHsgcmV0dXJuOyB9LAogICAgICAgICAgICBvbkZhaWw6IGZ1bmN0aW9uKCkgeyByZXR1cm47IH0sCiAgICAgICAgICAgIG9uQWx3YXlzOiBmdW5jdGlvbigpIHsgcmV0dXJuOyB9LAogICAgICAgICAgICBvbkFqYXg6IGZ1bmN0aW9uKCkgeyByZXR1cm47IH0KICAgICAgICB9OwoKICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCBkZWZhdWx0cywgb3B0aW9ucyk7CgogICAgICAgIHZhciAkbGFzdEVkaXRlZFJvdyA9ICd1bmRlZmluZWQnOwogICAgICAgIHZhciAkbGFzdERlbGV0ZWRSb3cgPSAndW5kZWZpbmVkJzsKICAgICAgICB2YXIgJGxhc3RSZXN0b3JlZFJvdyA9ICd1bmRlZmluZWQnOwoKICAgICAgICAvKioKICAgICAgICAgKiBEcmF3IFRhYmxlZGl0IHN0cnVjdHVyZSAoaWRlbnRpZmllciBjb2x1bW4sIGVkaXRhYmxlIGNvbHVtbnMsIHRvb2xiYXIgY29sdW1uKS4KICAgICAgICAgKgogICAgICAgICAqIEB0eXBlIHtvYmplY3R9CiAgICAgICAgICovCiAgICAgICAgdmFyIERyYXcgPSB7CiAgICAgICAgICAgIGNvbHVtbnM6IHsKICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgaWRlbnRpZmllciBjb2x1bW4uCiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmhpZGVJZGVudGlmaWVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICR0YWJsZS5maW5kKCd0aDpudGgtY2hpbGQoJyArIHBhcnNlSW50KHNldHRpbmdzLmNvbHVtbnMuaWRlbnRpZmllclswXSkgKyAxICsgJyksIHRib2R5IHRkOm50aC1jaGlsZCgnICsgcGFyc2VJbnQoc2V0dGluZ3MuY29sdW1ucy5pZGVudGlmaWVyWzBdKSArIDEgKyAnKScpLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkdGFibGUuZmluZCgndGJvZHkgdGQ6bnRoLWNoaWxkKCcgKyAocGFyc2VJbnQoc2V0dGluZ3MuY29sdW1ucy5pZGVudGlmaWVyWzBdKSArIDEpICsgJyknKTsKCiAgICAgICAgICAgICAgICAgICAgJHRkLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBoaWRkZW4gaW5wdXQgd2l0aCByb3cgaWRlbnRpZmllci4KLy8gQ29tcGxlbWVudG8KLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbiA9ICc8c3BhbiBjbGFzcz0idGFibGVkaXQtc3BhbiB0YWJsZWRpdC1pZGVudGlmaWVyIj4nICsgJCh0aGlzKS50ZXh0KCkgKyAnPC9zcGFuPic7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gJzxzcGFuIGNsYXNzPSJ0YWJsZWRpdC1zcGFuIHRhYmxlZGl0LWlkZW50aWZpZXIiPicgKyAkKHRoaXMpLmh0bWwoKSArICc8L3NwYW4+JzsKLy8gRU8gQ29tcGxlbWVudG8KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gJzxpbnB1dCBjbGFzcz0idGFibGVkaXQtaW5wdXQgdGFibGVkaXQtaWRlbnRpZmllciIgdHlwZT0iaGlkZGVuIiBuYW1lPSInICsgc2V0dGluZ3MuY29sdW1ucy5pZGVudGlmaWVyWzFdICsgJyIgdmFsdWU9IicgKyAkKHRoaXMpLnRleHQoKSArICciIGRpc2FibGVkPic7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZWxlbWVudHMgdG8gdGFibGUgY2VsbC4KICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5odG1sKHNwYW4gKyBpbnB1dCk7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYXR0cmlidXRlICJpZCIgdG8gdGFibGUgcm93LgogICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgndHInKS5hdHRyKHNldHRpbmdzLnJvd0lkZW50aWZpZXIsICQodGhpcykudGV4dCgpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlZGl0YWJsZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5jb2x1bW5zLmVkaXRhYmxlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkdGFibGUuZmluZCgndGJvZHkgdGQ6bnRoLWNoaWxkKCcgKyAocGFyc2VJbnQoc2V0dGluZ3MuY29sdW1ucy5lZGl0YWJsZVtpXVswXSkgKyAxKSArICcpJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAkdGQuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0ZXh0IG9mIHRoaXMgY2VsbC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHBvaW50ZXIgYXMgY3Vyc29yLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5lZGl0QnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHNwYW4gZWxlbWVudC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gJzxzcGFuIGNsYXNzPSJ0YWJsZWRpdC1zcGFuIj4nICsgdGV4dCArICc8L3NwYW4+JzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBleGlzdHMgdGhlIHRoaXJkIHBhcmFtZXRlciBvZiBlZGl0YWJsZSBhcnJheS4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuY29sdW1ucy5lZGl0YWJsZVtpXVsyXSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc2VsZWN0IGVsZW1lbnQuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gJzxzZWxlY3QgY2xhc3M9InRhYmxlZGl0LWlucHV0ICcgKyBzZXR0aW5ncy5pbnB1dENsYXNzICsgJyIgbmFtZT0iJyArIHNldHRpbmdzLmNvbHVtbnMuZWRpdGFibGVbaV1bMV0gKyAnIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIGRpc2FibGVkPic7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBvcHRpb25zIGZvciBzZWxlY3QgZWxlbWVudC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goalF1ZXJ5LnBhcnNlSlNPTihzZXR0aW5ncy5jb2x1bW5zLmVkaXRhYmxlW2ldWzJdKSwgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0ID09PSB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgKz0gJzxvcHRpb24gdmFsdWU9IicgKyBpbmRleCArICciIHNlbGVjdGVkPicgKyB2YWx1ZSArICc8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgKz0gJzxvcHRpb24gdmFsdWU9IicgKyBpbmRleCArICciPicgKyB2YWx1ZSArICc8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBsYXN0IHBpZWNlIG9mIHNlbGVjdCBlbGVtZW50LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ICs9ICc8L3NlbGVjdD4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGV4dCBpbnB1dCBlbGVtZW50LgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9ICc8aW5wdXQgY2xhc3M9InRhYmxlZGl0LWlucHV0ICcgKyBzZXR0aW5ncy5pbnB1dENsYXNzICsgJyIgdHlwZT0idGV4dCIgbmFtZT0iJyArIHNldHRpbmdzLmNvbHVtbnMuZWRpdGFibGVbaV1bMV0gKyAnIiB2YWx1ZT0iJyArICQodGhpcykudGV4dCgpICsgJyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiBkaXNhYmxlZD4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBlbGVtZW50cyBhbmQgY2xhc3MgInZpZXciIHRvIHRhYmxlIGNlbGwuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoc3BhbiArIGlucHV0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RhYmxlZGl0LXZpZXctbW9kZScpOwogICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0b29sYmFyOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuZWRpdEJ1dHRvbiB8fCBzZXR0aW5ncy5kZWxldGVCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRCdXR0b24gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGV0ZUJ1dHRvbiA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2F2ZUJ1dHRvbiA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdG9yZUJ1dHRvbiA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybUJ1dHRvbiA9ICcnOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRvb2xiYXIgY29sdW1uIGhlYWRlciBpZiBub3QgZXhpc3RzLgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRhYmxlLmZpbmQoJ3RoLnRhYmxlZGl0LXRvb2xiYXItY29sdW1uJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFibGUuZmluZCgndHI6Zmlyc3QnKS5hcHBlbmQoJzx0aCBjbGFzcz0idGFibGVkaXQtdG9vbGJhci1jb2x1bW4iPjwvdGg+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBlZGl0IGJ1dHRvbi4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmVkaXRCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRCdXR0b24gPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ0YWJsZWRpdC1lZGl0LWJ1dHRvbiAnICsgc2V0dGluZ3MuYnV0dG9ucy5lZGl0LmNsYXNzICsgJyIgc3R5bGU9ImZsb2F0OiBub25lOyI+JyArIHNldHRpbmdzLmJ1dHRvbnMuZWRpdC5odG1sICsgJzwvYnV0dG9uPic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBkZWxldGUgYnV0dG9uLgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuZGVsZXRlQnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVCdXR0b24gPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ0YWJsZWRpdC1kZWxldGUtYnV0dG9uICcgKyBzZXR0aW5ncy5idXR0b25zLmRlbGV0ZS5jbGFzcyArICciIHN0eWxlPSJmbG9hdDogbm9uZTsiPicgKyBzZXR0aW5ncy5idXR0b25zLmRlbGV0ZS5odG1sICsgJzwvYnV0dG9uPic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uID0gJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idGFibGVkaXQtY29uZmlybS1idXR0b24gJyArIHNldHRpbmdzLmJ1dHRvbnMuY29uZmlybS5jbGFzcyArICciIHN0eWxlPSJkaXNwbGF5OiBub25lOyBmbG9hdDogbm9uZTsiPicgKyBzZXR0aW5ncy5idXR0b25zLmNvbmZpcm0uaHRtbCArICc8L2J1dHRvbj4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc2F2ZSBidXR0b24uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5lZGl0QnV0dG9uICYmIHNldHRpbmdzLnNhdmVCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVCdXR0b24gPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJ0YWJsZWRpdC1zYXZlLWJ1dHRvbiAnICsgc2V0dGluZ3MuYnV0dG9ucy5zYXZlLmNsYXNzICsgJyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IGZsb2F0OiBub25lOyI+JyArIHNldHRpbmdzLmJ1dHRvbnMuc2F2ZS5odG1sICsgJzwvYnV0dG9uPic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSByZXN0b3JlIGJ1dHRvbi4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmRlbGV0ZUJ1dHRvbiAmJiBzZXR0aW5ncy5yZXN0b3JlQnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlQnV0dG9uID0gJzxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0idGFibGVkaXQtcmVzdG9yZS1idXR0b24gJyArIHNldHRpbmdzLmJ1dHRvbnMucmVzdG9yZS5jbGFzcyArICciIHN0eWxlPSJkaXNwbGF5OiBub25lOyBmbG9hdDogbm9uZTsiPicgKyBzZXR0aW5ncy5idXR0b25zLnJlc3RvcmUuaHRtbCArICc8L2J1dHRvbj4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9vbGJhciA9ICc8ZGl2IGNsYXNzPSJ0YWJsZWRpdC10b29sYmFyICcgKyBzZXR0aW5ncy50b29sYmFyQ2xhc3MgKyAnIiBzdHlsZT0idGV4dC1hbGlnbjogbGVmdDsiPlxuXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iJyArIHNldHRpbmdzLmdyb3VwQ2xhc3MgKyAnIiBzdHlsZT0iZmxvYXQ6IG5vbmU7Ij4nICsgZWRpdEJ1dHRvbiArIGRlbGV0ZUJ1dHRvbiArICc8L2Rpdj5cblwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgKyBzYXZlQnV0dG9uICsgJ1xuXAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyArIGNvbmZpcm1CdXR0b24gKyAnXG5cCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnICsgcmVzdG9yZUJ1dHRvbiArICdcblwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+PC9kaXY+JzsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0b29sYmFyIGNvbHVtbiBjZWxscy4KICAgICAgICAgICAgICAgICAgICAgICAgJHRhYmxlLmZpbmQoJ3RyOmd0KDApJykuYXBwZW5kKCc8dGQgc3R5bGU9IndoaXRlLXNwYWNlOiBub3dyYXA7IHdpZHRoOiAxJTsiPicgKyB0b29sYmFyICsgJzwvdGQ+Jyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2hhbmdlIHRvIHZpZXcgbW9kZSBvciBlZGl0IG1vZGUgd2l0aCB0YWJsZSB0ZCBlbGVtZW50IGFzIHBhcmFtZXRlci4KICAgICAgICAgKgogICAgICAgICAqIEB0eXBlIG9iamVjdAogICAgICAgICAqLwogICAgICAgIHZhciBNb2RlID0gewogICAgICAgICAgICB2aWV3OiBmdW5jdGlvbih0ZCkgewogICAgICAgICAgICAgICAgLy8gR2V0IHRhYmxlIHJvdy4KICAgICAgICAgICAgICAgIHZhciAkdHIgPSAkKHRkKS5wYXJlbnQoJ3RyJyk7CiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGlkZW50aWZpZXIuCiAgICAgICAgICAgICAgICAkKHRkKS5wYXJlbnQoJ3RyJykuZmluZCgnLnRhYmxlZGl0LWlucHV0LnRhYmxlZGl0LWlkZW50aWZpZXInKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpOwogICAgICAgICAgICAgICAgLy8gSGlkZSBhbmQgZGlzYWJsZSBpbnB1dCBlbGVtZW50LgogICAgICAgICAgICAgICAgJCh0ZCkuZmluZCgnLnRhYmxlZGl0LWlucHV0JykuYmx1cigpLmhpZGUoKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpOwogICAgICAgICAgICAgICAgLy8gU2hvdyBzcGFuIGVsZW1lbnQuCiAgICAgICAgICAgICAgICAkKHRkKS5maW5kKCcudGFibGVkaXQtc3BhbicpLnNob3coKTsKICAgICAgICAgICAgICAgIC8vIEFkZCAidmlldyIgY2xhc3MgYW5kIHJlbW92ZSAiZWRpdCIgY2xhc3MgaW4gdGQgZWxlbWVudC4KICAgICAgICAgICAgICAgICQodGQpLmFkZENsYXNzKCd0YWJsZWRpdC12aWV3LW1vZGUnKS5yZW1vdmVDbGFzcygndGFibGVkaXQtZWRpdC1tb2RlJyk7CiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdG9vbGJhciBidXR0b25zLgogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmVkaXRCdXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAkdHIuZmluZCgnYnV0dG9uLnRhYmxlZGl0LXNhdmUtYnV0dG9uJykuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICR0ci5maW5kKCdidXR0b24udGFibGVkaXQtZWRpdC1idXR0b24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuYmx1cigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBlZGl0OiBmdW5jdGlvbih0ZCkgewogICAgICAgICAgICAgICAgRGVsZXRlLnJlc2V0KHRkKTsKICAgICAgICAgICAgICAgIC8vIEdldCB0YWJsZSByb3cuCiAgICAgICAgICAgICAgICB2YXIgJHRyID0gJCh0ZCkucGFyZW50KCd0cicpOwogICAgICAgICAgICAgICAgLy8gRW5hYmxlIGlkZW50aWZpZXIuCiAgICAgICAgICAgICAgICAkdHIuZmluZCgnLnRhYmxlZGl0LWlucHV0LnRhYmxlZGl0LWlkZW50aWZpZXInKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgIC8vIEhpZGUgc3BhbiBlbGVtZW50LgogICAgICAgICAgICAgICAgJCh0ZCkuZmluZCgnLnRhYmxlZGl0LXNwYW4nKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAvLyBHZXQgaW5wdXQgZWxlbWVudC4KICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRkKS5maW5kKCcudGFibGVkaXQtaW5wdXQnKTsKICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBhbmQgc2hvdyBpbnB1dCBlbGVtZW50LgogICAgICAgICAgICAgICAgJGlucHV0LnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnNob3coKTsKICAgICAgICAgICAgICAgIC8vIEZvY3VzIG9uIGlucHV0IGVsZW1lbnQuCiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuYXV0b0ZvY3VzKSB7CiAgICAgICAgICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBBZGQgImVkaXQiIGNsYXNzIGFuZCByZW1vdmUgInZpZXciIGNsYXNzIGluIHRkIGVsZW1lbnQuCiAgICAgICAgICAgICAgICAkKHRkKS5hZGRDbGFzcygndGFibGVkaXQtZWRpdC1tb2RlJykucmVtb3ZlQ2xhc3MoJ3RhYmxlZGl0LXZpZXctbW9kZScpOwogICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRvb2xiYXIgYnV0dG9ucy4KICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5lZGl0QnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgJHRyLmZpbmQoJ2J1dHRvbi50YWJsZWRpdC1lZGl0LWJ1dHRvbicpLmFkZENsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAkdHIuZmluZCgnYnV0dG9uLnRhYmxlZGl0LXNhdmUtYnV0dG9uJykuc2hvdygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogQXZhaWxhYmxlIGFjdGlvbnMgZm9yIGVkaXQgZnVuY3Rpb24sIHdpdGggdGFibGUgdGQgZWxlbWVudCBhcyBwYXJhbWV0ZXIgb3Igc2V0IG9mIHRkIGVsZW1lbnRzLgogICAgICAgICAqCiAgICAgICAgICogQHR5cGUgb2JqZWN0CiAgICAgICAgICovCiAgICAgICAgdmFyIEVkaXQgPSB7CiAgICAgICAgICAgIHJlc2V0OiBmdW5jdGlvbih0ZCkgewogICAgICAgICAgICAgICAgJCh0ZCkuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAvLyBHZXQgaW5wdXQgZWxlbWVudC4KICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKS5maW5kKCcudGFibGVkaXQtaW5wdXQnKTsKICAgICAgICAgICAgICAgICAgICAvLyBHZXQgc3BhbiB0ZXh0LgogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS5maW5kKCcudGFibGVkaXQtc3BhbicpLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICAvLyBTZXQgaW5wdXQvc2VsZWN0IHZhbHVlIHdpdGggc3BhbiB0ZXh0LgogICAgICAgICAgICAgICAgICAgIGlmICgkaW5wdXQuaXMoJ3NlbGVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC5maW5kKCdvcHRpb24nKS5maWx0ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50cmltKCQodGhpcykudGV4dCgpKSA9PT0gdGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgfSkuYXR0cignc2VsZWN0ZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHRleHQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgdG8gdmlldyBtb2RlLgogICAgICAgICAgICAgICAgICAgIE1vZGUudmlldyh0aGlzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKHRkKSB7CiAgICAgICAgICAgICAgICAvLyBTZW5kIEFKQVggcmVxdWVzdCB0byBzZXJ2ZXIuCiAgICAgICAgICAgICAgICB2YXIgYWpheFJlc3VsdCA9IGFqYXgoc2V0dGluZ3MuYnV0dG9ucy5lZGl0LmFjdGlvbiwgdGQpOwoKICAgICAgICAgICAgICAgIGlmIChhamF4UmVzdWx0ID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkKHRkKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIC8vIEdldCBpbnB1dCBlbGVtZW50LgogICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLmZpbmQoJy50YWJsZWRpdC1pbnB1dCcpOwogICAgICAgICAgICAgICAgICAgIC8vIFNldCBzcGFuIHRleHQgd2l0aCBpbnB1dC9zZWxlY3QgbmV3IHZhbHVlLgogICAgICAgICAgICAgICAgICAgIGlmICgkaW5wdXQuaXMoJ3NlbGVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnRhYmxlZGl0LXNwYW4nKS50ZXh0KCRpbnB1dC5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCkpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnRhYmxlZGl0LXNwYW4nKS50ZXh0KCRpbnB1dC52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0byB2aWV3IG1vZGUuCiAgICAgICAgICAgICAgICAgICAgTW9kZS52aWV3KHRoaXMpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgZWRpdGVkIGNvbHVtbiBhbmQgcm93LgogICAgICAgICAgICAgICAgJGxhc3RFZGl0ZWRSb3cgPSAkKHRkKS5wYXJlbnQoJ3RyJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICAvKioKICAgICAgICAgKiBBdmFpbGFibGUgYWN0aW9ucyBmb3IgZGVsZXRlIGZ1bmN0aW9uLCB3aXRoIGJ1dHRvbiBhcyBwYXJhbWV0ZXIuCiAgICAgICAgICoKICAgICAgICAgKiBAdHlwZSBvYmplY3QKICAgICAgICAgKi8KICAgICAgICB2YXIgRGVsZXRlID0gewogICAgICAgICAgICByZXNldDogZnVuY3Rpb24odGQpIHsKICAgICAgICAgICAgICAgIC8vIFJlc2V0IGRlbGV0ZSBidXR0b24gdG8gaW5pdGlhbCBzdGF0dXMuCiAgICAgICAgICAgICAgICAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWNvbmZpcm0tYnV0dG9uJykuaGlkZSgpOwogICAgICAgICAgICAgICAgLy8gUmVtb3ZlICJhY3RpdmUiIGNsYXNzIGluIGRlbGV0ZSBidXR0b24uCiAgICAgICAgICAgICAgICAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWRlbGV0ZS1idXR0b24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuYmx1cigpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKHRkKSB7CiAgICAgICAgICAgICAgICBEZWxldGUucmVzZXQodGQpOwogICAgICAgICAgICAgICAgLy8gRW5hYmxlIGlkZW50aWZpZXIgaGlkZGVuIGlucHV0LgogICAgICAgICAgICAgICAgJCh0ZCkucGFyZW50KCd0cicpLmZpbmQoJ2lucHV0LnRhYmxlZGl0LWlkZW50aWZpZXInKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgIC8vIFNlbmQgQUpBWCByZXF1ZXN0IHRvIHNlcnZlci4KICAgICAgICAgICAgICAgIHZhciBhamF4UmVzdWx0ID0gYWpheChzZXR0aW5ncy5idXR0b25zLmRlbGV0ZS5hY3Rpb24pOwogICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBpZGVudGlmaWVyIGhpZGRlbiBpbnB1dC4KICAgICAgICAgICAgICAgICQodGQpLnBhcmVudHMoJ3RyJykuZmluZCgnaW5wdXQudGFibGVkaXQtaWRlbnRpZmllcicpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7CgogICAgICAgICAgICAgICAgaWYgKGFqYXhSZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEFkZCBjbGFzcyAiZGVsZXRlZCIgdG8gcm93LgogICAgICAgICAgICAgICAgJCh0ZCkucGFyZW50KCd0cicpLmFkZENsYXNzKCd0YWJsZWRpdC1kZWxldGVkLXJvdycpOwogICAgICAgICAgICAgICAgLy8gSGlkZSB0YWJsZSByb3cuCiAgICAgICAgICAgICAgICAkKHRkKS5wYXJlbnQoJ3RyJykuYWRkQ2xhc3Moc2V0dGluZ3MubXV0ZWRDbGFzcykuZmluZCgnLnRhYmxlZGl0LXRvb2xiYXIgYnV0dG9uOm5vdCgudGFibGVkaXQtcmVzdG9yZS1idXR0b24pJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgIC8vIFNob3cgcmVzdG9yZSBidXR0b24uCiAgICAgICAgICAgICAgICAkKHRkKS5maW5kKCcudGFibGVkaXQtcmVzdG9yZS1idXR0b24nKS5zaG93KCk7CiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCBkZWxldGVkIHJvdy4KICAgICAgICAgICAgICAgICRsYXN0RGVsZXRlZFJvdyA9ICQodGQpLnBhcmVudCgndHInKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29uZmlybTogZnVuY3Rpb24odGQpIHsKICAgICAgICAgICAgICAgIC8vIFJlc2V0IGFsbCBjZWxscyBpbiBlZGl0IG1vZGUuCiAgICAgICAgICAgICAgICAkdGFibGUuZmluZCgndGQudGFibGVkaXQtZWRpdC1tb2RlJykuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBFZGl0LnJlc2V0KHRoaXMpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyBBZGQgImFjdGl2ZSIgY2xhc3MgaW4gZGVsZXRlIGJ1dHRvbi4KICAgICAgICAgICAgICAgICQodGQpLmZpbmQoJy50YWJsZWRpdC1kZWxldGUtYnV0dG9uJykuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgLy8gU2hvdyBjb25maXJtIGJ1dHRvbi4KICAgICAgICAgICAgICAgICQodGQpLmZpbmQoJy50YWJsZWRpdC1jb25maXJtLWJ1dHRvbicpLnNob3coKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzdG9yZTogZnVuY3Rpb24odGQpIHsKICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBpZGVudGlmaWVyIGhpZGRlbiBpbnB1dC4KICAgICAgICAgICAgICAgICQodGQpLnBhcmVudCgndHInKS5maW5kKCdpbnB1dC50YWJsZWRpdC1pZGVudGlmaWVyJykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAvLyBTZW5kIEFKQVggcmVxdWVzdCB0byBzZXJ2ZXIuCiAgICAgICAgICAgICAgICB2YXIgYWpheFJlc3VsdCA9IGFqYXgoc2V0dGluZ3MuYnV0dG9ucy5yZXN0b3JlLmFjdGlvbik7CiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGlkZW50aWZpZXIgaGlkZGVuIGlucHV0LgogICAgICAgICAgICAgICAgJCh0ZCkucGFyZW50cygndHInKS5maW5kKCdpbnB1dC50YWJsZWRpdC1pZGVudGlmaWVyJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBpZiAoYWpheFJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzICJkZWxldGVkIiB0byByb3cuCiAgICAgICAgICAgICAgICAkKHRkKS5wYXJlbnQoJ3RyJykucmVtb3ZlQ2xhc3MoJ3RhYmxlZGl0LWRlbGV0ZWQtcm93Jyk7CiAgICAgICAgICAgICAgICAvLyBIaWRlIHRhYmxlIHJvdy4KICAgICAgICAgICAgICAgICQodGQpLnBhcmVudCgndHInKS5yZW1vdmVDbGFzcyhzZXR0aW5ncy5tdXRlZENsYXNzKS5maW5kKCcudGFibGVkaXQtdG9vbGJhciBidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgIC8vIEhpZGUgcmVzdG9yZSBidXR0b24uCiAgICAgICAgICAgICAgICAkKHRkKS5maW5kKCcudGFibGVkaXQtcmVzdG9yZS1idXR0b24nKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCByZXN0b3JlZCByb3cuCiAgICAgICAgICAgICAgICAkbGFzdFJlc3RvcmVkUm93ID0gJCh0ZCkucGFyZW50KCd0cicpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLyoqCiAgICAgICAgICogU2VuZCBBSkFYIHJlcXVlc3QgdG8gc2VydmVyLgogICAgICAgICAqCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbgogICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGFqYXgoYWN0aW9uLCB0ZCkKICAgICAgICB7Ci8vQ29tcGxlbWVudG8gCi8vICAgICAgICAgICAgdmFyIHNlcmlhbGl6ZSA9ICR0YWJsZS5maW5kKCcudGFibGVkaXQtaW5wdXQnKS5zZXJpYWxpemUoKSArICcmYWN0aW9uPScgKyBhY3Rpb247CiAgICAgICAgICAgIHZhciBzZXJpYWxpemUgPSAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWlucHV0Jykuc2VyaWFsaXplKCkgKyAnJlN1YmFjdGlvbj0nICsgYWN0aW9uOwoJCQlzZXJpYWxpemUgKz0gJyZDb25maWdJdGVtSUQ9JyskdGFibGUuZmluZCgnLnRhYmxlZGl0LWVkaXQtbW9kZScpLmZpcnN0KCkucGFyZW50KCkuYXR0cignZGF0YS1jbWRiLWlkJyk7CgkJCXNlcmlhbGl6ZSArPSAnJkNoYW5nZWQ9JysoJCgnaW5wdXQsIHNlbGVjdCcsdGQpLmF0dHIoJ25hbWUnKSk7CgoKLy9FTyBDb21wbGVtZW50bwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gc2V0dGluZ3Mub25BamF4KGFjdGlvbiwgc2VyaWFsaXplKTsKCiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBqcVhIUiA9ICQucG9zdChzZXR0aW5ncy51cmwsIHNlcmlhbGl6ZSwgZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganFYSFIpIHsKICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IHNldHRpbmdzLmJ1dHRvbnMuZWRpdC5hY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAkbGFzdEVkaXRlZFJvdy5yZW1vdmVDbGFzcyhzZXR0aW5ncy5kYW5nZXJDbGFzcykuYWRkQ2xhc3Moc2V0dGluZ3Mud2FybmluZ0NsYXNzKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyRsYXN0RWRpdGVkUm93LnJlbW92ZUNsYXNzKHNldHRpbmdzLndhcm5pbmdDbGFzcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICR0YWJsZS5maW5kKCd0ci4nICsgc2V0dGluZ3Mud2FybmluZ0NsYXNzKS5yZW1vdmVDbGFzcyhzZXR0aW5ncy53YXJuaW5nQ2xhc3MpOwogICAgICAgICAgICAgICAgICAgIH0sIDE0MDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uU3VjY2VzcyhkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUik7CiAgICAgICAgICAgIH0sICdqc29uJyk7CgogICAgICAgICAgICBqcVhIUi5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewogICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gc2V0dGluZ3MuYnV0dG9ucy5kZWxldGUuYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgJGxhc3REZWxldGVkUm93LnJlbW92ZUNsYXNzKHNldHRpbmdzLm11dGVkQ2xhc3MpLmFkZENsYXNzKHNldHRpbmdzLmRhbmdlckNsYXNzKTsKICAgICAgICAgICAgICAgICAgICAkbGFzdERlbGV0ZWRSb3cuZmluZCgnLnRhYmxlZGl0LXRvb2xiYXIgYnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgJGxhc3REZWxldGVkUm93LmZpbmQoJy50YWJsZWRpdC10b29sYmFyIC50YWJsZWRpdC1yZXN0b3JlLWJ1dHRvbicpLmhpZGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBzZXR0aW5ncy5idXR0b25zLmVkaXQuYWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgJGxhc3RFZGl0ZWRSb3cuYWRkQ2xhc3Moc2V0dGluZ3MuZGFuZ2VyQ2xhc3MpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRmFpbChqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGpxWEhSLmFsd2F5cyhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQWx3YXlzKCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIGpxWEhSOwogICAgICAgIH0KCiAgICAgICAgRHJhdy5jb2x1bW5zLmlkZW50aWZpZXIoKTsKICAgICAgICBEcmF3LmNvbHVtbnMuZWRpdGFibGUoKTsKICAgICAgICBEcmF3LmNvbHVtbnMudG9vbGJhcigpOwoKICAgICAgICBzZXR0aW5ncy5vbkRyYXcoKTsKCiAgICAgICAgaWYgKHNldHRpbmdzLmRlbGV0ZUJ1dHRvbikgewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogRGVsZXRlIG9uZSByb3cuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgJHRhYmxlLm9uKCdjbGljaycsICdidXR0b24udGFibGVkaXQtZGVsZXRlLWJ1dHRvbicsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaGFuZGxlZCAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IHN0YXRlIGJlZm9yZSByZXNldCB0byB2aWV3IG1vZGUuCiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2YXRlZCA9ICQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgJHRkID0gJCh0aGlzKS5wYXJlbnRzKCd0ZCcpOwoKICAgICAgICAgICAgICAgICAgICBEZWxldGUucmVzZXQoJHRkKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmF0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlLmNvbmZpcm0oJHRkKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBEZWxldGUgb25lIHJvdyAoY29uZmlybSkuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgJHRhYmxlLm9uKCdjbGljaycsICdidXR0b24udGFibGVkaXQtY29uZmlybS1idXR0b24nLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LmhhbmRsZWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgJHRkID0gJCh0aGlzKS5wYXJlbnRzKCd0ZCcpOwoKICAgICAgICAgICAgICAgICAgICBEZWxldGUuc3VibWl0KCR0ZCk7CgogICAgICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChzZXR0aW5ncy5yZXN0b3JlQnV0dG9uKSB7CiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBSZXN0b3JlIG9uZSByb3cuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgJHRhYmxlLm9uKCdjbGljaycsICdidXR0b24udGFibGVkaXQtcmVzdG9yZS1idXR0b24nLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LmhhbmRsZWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgICAgICAgICBEZWxldGUucmVzdG9yZSgkKHRoaXMpLnBhcmVudHMoJ3RkJykpOwoKICAgICAgICAgICAgICAgICAgICBldmVudC5oYW5kbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoc2V0dGluZ3MuZWRpdEJ1dHRvbikgewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQWN0aXZhdGUgZWRpdCBtb2RlIG9uIGFsbCBjb2x1bW5zLgogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKICAgICAgICAgICAgICovCiAgICAgICAgICAgICR0YWJsZS5vbignY2xpY2snLCAnYnV0dG9uLnRhYmxlZGl0LWVkaXQtYnV0dG9uJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC5oYW5kbGVkICE9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKHRoaXMpOwoKICAgICAgICAgICAgICAgICAgICAvLyBHZXQgY3VycmVudCBzdGF0ZSBiZWZvcmUgcmVzZXQgdG8gdmlldyBtb2RlLgogICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmF0ZWQgPSAkYnV0dG9uLmhhc0NsYXNzKCdhY3RpdmUnKTsKCiAgICAgICAgICAgICAgICAgICAgLy8gQ2hhbmdlIHRvIHZpZXcgbW9kZSBjb2x1bW5zIHRoYXQgYXJlIGluIGVkaXQgbW9kZS4KICAgICAgICAgICAgICAgICAgICBFZGl0LnJlc2V0KCR0YWJsZS5maW5kKCd0ZC50YWJsZWRpdC1lZGl0LW1vZGUnKSk7CgogICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZhdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0byBlZGl0IG1vZGUgZm9yIGFsbCBjb2x1bW5zIGluIHJldmVyc2Ugd2F5LgogICAgICAgICAgICAgICAgICAgICAgICAkKCRidXR0b24ucGFyZW50cygndHInKS5maW5kKCd0ZC50YWJsZWRpdC12aWV3LW1vZGUnKS5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2RlLmVkaXQodGhpcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIFNhdmUgZWRpdGVkIHJvdy4KICAgICAgICAgICAgICoKICAgICAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50CiAgICAgICAgICAgICAqLwogICAgICAgICAgICAkdGFibGUub24oJ2NsaWNrJywgJ2J1dHRvbi50YWJsZWRpdC1zYXZlLWJ1dHRvbicsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuaGFuZGxlZCAhPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgogICAgICAgICAgICAgICAgICAgIC8vIFN1Ym1pdCBhbmQgdXBkYXRlIGFsbCBjb2x1bW5zLgogICAgICAgICAgICAgICAgICAgIEVkaXQuc3VibWl0KCQodGhpcykucGFyZW50cygndHInKS5maW5kKCd0ZC50YWJsZWRpdC1lZGl0LW1vZGUnKSk7CgogICAgICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICogQ2hhbmdlIHRvIGVkaXQgbW9kZSBvbiB0YWJsZSB0ZCBlbGVtZW50LgogICAgICAgICAgICAgKgogICAgICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKICAgICAgICAgICAgICovCiAgICAgICAgICAgICR0YWJsZS5vbihzZXR0aW5ncy5ldmVudFR5cGUsICd0cjpub3QoLnRhYmxlZGl0LWRlbGV0ZWQtcm93KSB0ZC50YWJsZWRpdC12aWV3LW1vZGUnLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LmhhbmRsZWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBhbGwgdGQncyBpbiBlZGl0IG1vZGUuCiAgICAgICAgICAgICAgICAgICAgRWRpdC5yZXNldCgkdGFibGUuZmluZCgndGQudGFibGVkaXQtZWRpdC1tb2RlJykpOwoKICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgdG8gZWRpdCBtb2RlLgogICAgICAgICAgICAgICAgICAgIE1vZGUuZWRpdCh0aGlzKTsKCiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIENoYW5nZSBldmVudCB3aGVuIGlucHV0IGlzIGEgc2VsZWN0IGVsZW1lbnQuCiAgICAgICAgICAgICAqLwogICAgICAgICAgICAkdGFibGUub24oJ2NoYW5nZScsICdzZWxlY3QudGFibGVkaXQtaW5wdXQ6dmlzaWJsZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKGV2ZW50LmhhbmRsZWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBTdWJtaXQgYW5kIHVwZGF0ZSB0aGUgY29sdW1uLgogICAgICAgICAgICAgICAgICAgIEVkaXQuc3VibWl0KCQodGhpcykucGFyZW50KCd0ZCcpKTsKCiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaGFuZGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIENsaWNrIGV2ZW50IG9uIGRvY3VtZW50IGVsZW1lbnQuCiAgICAgICAgICAgICAqCiAgICAgICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhciAkZWRpdE1vZGUgPSAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWVkaXQtbW9kZScpOwogICAgICAgICAgICAgICAgLy8gUmVzZXQgdmlzaWJsZSBlZGl0IG1vZGUgY29sdW1uLgogICAgICAgICAgICAgICAgaWYgKCEkZWRpdE1vZGUuaXMoZXZlbnQudGFyZ2V0KSAmJiAkZWRpdE1vZGUuaGFzKGV2ZW50LnRhcmdldCkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgRWRpdC5yZXNldCgkdGFibGUuZmluZCgnLnRhYmxlZGl0LWlucHV0OnZpc2libGUnKS5wYXJlbnQoJ3RkJykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8qKgogICAgICAgICAqIEtleXVwIGV2ZW50IG9uIGRvY3VtZW50IGVsZW1lbnQuCiAgICAgICAgICoKICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnQKICAgICAgICAgKi8KICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAnLCBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAvLyBHZXQgaW5wdXQgZWxlbWVudCB3aXRoIGZvY3VzIG9yIGNvbmZpcm1hdGlvbiBidXR0b24uCiAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWlucHV0OnZpc2libGUnKTsKICAgICAgICAgICAgdmFyICRidXR0b24gPSAkdGFibGUuZmluZCgnLnRhYmxlZGl0LWNvbmZpcm0tYnV0dG9uJyk7CgogICAgICAgICAgICBpZiAoJGlucHV0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkaW5wdXQucGFyZW50cygndGQnKTsKICAgICAgICAgICAgfSBlbHNlIGlmICgkYnV0dG9uLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIHZhciAkdGQgPSAkYnV0dG9uLnBhcmVudHMoJ3RkJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEtleT8KICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7CiAgICAgICAgICAgICAgICBjYXNlIDk6ICAvLyBUYWIuCiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5lZGl0QnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEVkaXQuc3VibWl0KCR0ZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGUuZWRpdCgkdGQuY2xvc2VzdCgndGQnKS5uZXh0KCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgMTM6IC8vIEVudGVyLgogICAgICAgICAgICAgICAgICAgIEVkaXQuc3VibWl0KCR0ZCk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDI3OiAvLyBFc2NhcGUuCiAgICAgICAgICAgICAgICAgICAgRWRpdC5yZXNldCgkdGQpOwogICAgICAgICAgICAgICAgICAgIERlbGV0ZS5yZXNldCgkdGQpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHJldHVybiB0aGlzOwogICAgfTsKfShqUXVlcnkpKTsK</File>
    </Filelist>
</otrs_package>